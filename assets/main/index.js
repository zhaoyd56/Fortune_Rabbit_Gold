System.register("chunks:///_virtual/AudioControl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var n,o,e,u,r,t,l,s,a;return{setters:[function(i){n=i.applyDecoratedDescriptor,o=i.inheritsLoose,e=i.initializerDefineProperty,u=i.assertThisInitialized},function(i){r=i.cclegacy,t=i._decorator,l=i.AudioClip,s=i.AudioSource,a=i.Component}],execute:function(){var c,p,d,_,f,y,m,h,b;r._RF.push({},"527a9OUqlJJFo1xXnQZJBnm","AudioControl",void 0);var g=t.ccclass,A=t.property,S={bigwin_cheer:0,bigwin_end:1,bgm_bigwin_main:2,bgm_fs:3,bgm_fs_start_layer:4,bgm_mg:5,menu_icon_press:6,click_spin:7,iconRow_end:8,win_line:9,fs_start:10,fs_success:11,superNumFlyEnd_1:12,superNumFlyEnd_2:13,superNumFlyEnd_3:14,superNumFlyEnd_4:15,superNumFlyEnd_5:16,superNumFlyEnd_6:17,superNumFlyEnd_7:18,superNumFlyEnd_8:19,superNumFlyEnd_9:20,superNumFlyEnd_10:21,cashItem_win:22,numroll_start:23,numroll_end:24};i("AudioControl",(c=g("AudioControl"),p=A(l),d=A(s),_=A(l),c((m=n((y=function(i){function n(){for(var n,o=arguments.length,r=new Array(o),t=0;t<o;t++)r[t]=arguments[t];return n=i.call.apply(i,[this].concat(r))||this,e(n,"audioClips",m,u(n)),e(n,"audioSource",h,u(n)),e(n,"lineWinAudioArr",b,u(n)),n}o(n,i);var r=n.prototype;return r.start=function(){},r.update=function(i){},r.playMusic=function(i){void 0!==S[i]&&(this.audioSource.clip=this.audioClips[S[i]],this.audioSource.play())},r.playEffect=function(i,n){void 0===n&&(n=2),void 0!==S[i]&&this.audioSource.playOneShot(this.audioClips[S[i]],n)},r.stop=function(){this.audioSource.stop()},r.pause=function(){this.audioSource.pause()},r.play=function(){this.audioSource.play()},r.setVolume=function(i){this.audioSource.volume=i},r.playLineWinEffect=function(i){this.lineWinAudioArr[i]&&this.audioSource.playOneShot(this.lineWinAudioArr[i],3)},n}(a)).prototype,"audioClips",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=n(y.prototype,"audioSource",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=n(y.prototype,"lineWinAudioArr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioControl.ts"],(function(i){var o,t,n,u,s;return{setters:[function(i){o=i.createClass},function(i){t=i.cclegacy,n=i.find,u=i.sys},function(i){s=i.AudioControl}],execute:function(){t._RF.push({},"c7e9dKleTNKKaxvaQPKzctw","AudioMgr",void 0);var a="AUDIO_ONOFF",l=function(){function i(){this._audioControl=null,this._audioOn=!0,this._audioChange=!1}var t=i.prototype;return t.playEffect=function(i,o){void 0===o&&(o=1),this._audioOn&&this._audioControl&&this._audioControl.playEffect(i,o)},t.playNormalBgm=function(){this._audioOn&&this._audioControl&&(this._audioControl.stop(),this._audioControl.playMusic("bgm_mg"))},t.playFsBgm=function(){this._audioOn&&this._audioControl&&(this._audioControl.stop(),this._audioControl.playMusic("bgm_fs"))},t.playLineWinEffect=function(i){if(this._audioOn&&this._audioControl){var o=0;o=i<=1?0:i<=3?1:i<=5?2:i<=7?3:i<=9?4:i<=12?5:i<=15?6:i<20?7:8,this._audioControl.playLineWinEffect(o)}},t.setFsBgmVolume=function(){this._audioOn&&this._audioControl&&this._audioControl.setVolume(.5)},t.initAudioControl=function(){var i;this._audioControl=null==(i=n("audioNode"))?void 0:i.getComponent(s),this._audioOn&&this._audioControl.play()},t.setAudioOn=function(){this._audioOn=!this._audioOn,this._audioOn?this._audioControl.play():this._audioControl.stop(),this._audioChange=!0},t.initAudioOption=function(){var i=u.localStorage.getItem(a);null!==i&&(this._audioOn="1"==i)},t.saveAudioOption=function(){this._audioChange&&u.localStorage.setItem(a,this._audioOn?1:0)},o(i,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new i,this._inst.initAudioOption()),this._inst}}]),i}();l._inst=null;i("audioMgr",l.inst);t._RF.pop()}}}));

System.register("chunks:///_virtual/AutoBtnNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(t){var n,e,o,i,r,a,u,s,c,l,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Node,s=t.Animation,c=t.Label,l=t.Component},function(t){p=t.GlobalEvent}],execute:function(){var d,h,f,E,y,v,N;r._RF.push({},"166b4KqbRJIGJDeDwNGQcLQ","AutoBtnNode",void 0);var b=a.ccclass,B=a.property;t("AutoBtnNode",(d=b("AutoBtnNode"),h=B(u),f=B(u),d((v=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,o(n,"aniNode",v,i(n)),o(n,"autoBtn",N,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){this.autoBtn.on(u.EventType.MOUSE_ENTER,this.onMouse,this),this.autoBtn.on(u.EventType.MOUSE_LEAVE,this.onMouse,this)},r.update=function(t){},r.onMouse=function(t){t.type==u.EventType.MOUSE_ENTER?(this.aniNode.active=!0,this.aniNode.getComponent(s).play()):t.type==u.EventType.MOUSE_LEAVE&&(this.aniNode.getComponent(s).stop(),this.aniNode.active=!1)},r.onBtnClick=function(){p.inst.emit("AUTOBUTTON_CLICK")},r.updateAutoTimes=function(t){var n=this.autoBtn.getComponentInChildren(c);n&&(n.string=t.toString())},n}(l)).prototype,"aniNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(y.prototype,"autoBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/BigWinEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./AudioMgr.ts"],(function(t){var n,e,i,o,r,a,l,c,u,s,g,p,f,d,y,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Prefab,c=t.instantiate,u=t.AudioSource,s=t.Animation,g=t.Label,p=t.tween,f=t.Tween,d=t.Component},function(t){y=t.GlobalEvent},function(t){m=t.audioMgr}],execute:function(){var h,b,C,E,v,I,W,B,_;r._RF.push({},"e8710J+hM9NSrvbxgmyHPcE","BigWinEffect",void 0);var N=a.ccclass,F=a.property;t("BigWinEffect",(h=N("BigWinEffect"),b=F(l),C=F(l),E=F(l),h((W=n((I=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"grandeWin",W,o(n)),i(n,"megaWin",B,o(n)),i(n,"superWin",_,o(n)),n}e(n,t);var r=n.prototype;return r.start=function(){},r.update=function(t){},r.showBigWin=function(t,n){var e=this,i=c(this.grandeWin);this.node.addChild(i),m._audioOn&&i.getComponent(u).play(),i.getComponent(s).on(s.EventType.FINISHED,(function(){i.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")}));var o=i.getChildByName("lab_count").getComponent(g);if(o){var r=Math.floor(t/60),a=0,l=p(this.node).delay(.05).call((function(){a+=r,o.string=a.toString()}));p(i).repeat(60,l).call((function(){o.string=t.toString(),i.getChildByName("vfx_b").getComponent(s).play(),i.getChildByName("lab_count").getComponent(s).play(),i.getComponent(u).stop(),m.playEffect("bigwin_end")})).start()}if(n>=10&&n<20){var d=c(this.megaWin);d.getChildByName("lab_count").getComponent(g).string=t.toString(),d.getComponent(s).on(s.EventType.FINISHED,(function(){d.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")})),p(this.node).delay(2).call((function(){f.stopAllByTarget(i),i.destroy(),e.node.addChild(d),m.playEffect("bigwin_end")})).start()}else if(n>=20){var h=c(this.superWin);h.getChildByName("lab_count").getComponent(g).string=t.toString(),h.getComponent(s).on(s.EventType.FINISHED,(function(){h.destroy(),y.inst.emit("BIGWINEFFECT_FINISH")})),p(this.node).delay(2).call((function(){f.stopAllByTarget(i),i.destroy(),e.node.addChild(h),m.playEffect("bigwin_end")})).start()}},n}(d)).prototype,"grandeWin",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(I.prototype,"megaWin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(I.prototype,"superWin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=I))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseAutoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEvent.ts"],(function(e){var n,t,o,i,r,s,a,l,u,h,c,p,C,f,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,a=e._decorator,l=e.Node,u=e.Label,h=e.Button,c=e.Color,p=e.Animation,C=e.Component},function(e){f=e.globalData},function(e){b=e.GlobalEvent}],execute:function(){var d,E,T,y,g,m,v,_,I,w,A,O,U;s._RF.push({},"cb06dwFwHdMGZZmQFFOqHCS","ChoseAutoView",void 0);var N=a.ccclass,S=a.property,H=[10,30,50,80,1e3];e("ChoseAutoView",(d=N("ChoseAutoView"),E=S(l),T=S(u),y=S(u),g=S(u),m=S(h),d((I=n((_=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,o(n,"autoCountNodeArr",I,i(n)),o(n,"labWallet",w,i(n)),o(n,"labChip",A,i(n)),o(n,"labWin",O,i(n)),o(n,"btnConfirm",U,i(n)),n._curChoseIndex=-1,n}t(n,e);var s=n.prototype;return s.start=function(){for(var e,n=r(this.autoCountNodeArr);!(e=n()).done;){var t=e.value;t.on(l.EventType.TOUCH_START,this.onTouch,this),t.on(l.EventType.TOUCH_END,this.onTouch,this),t.on(l.EventType.TOUCH_CANCEL,this.onTouch,this),t.on(l.EventType.MOUSE_ENTER,this.onMouse,this),t.on(l.EventType.MOUSE_LEAVE,this.onMouse,this)}this.node.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.initUserInfo(),this.btnConfirm.interactable=!1},s.update=function(e){},s.onTouch=function(e){var n=e.target,t=parseInt(n.name.substring(10,11));if(e.type==l.EventType.TOUCH_START)t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new c(102,82,71));else if(e.type==l.EventType.TOUCH_END){if(t!=this._curChoseIndex){if(this._curChoseIndex>=0){var o=this.autoCountNodeArr[this._curChoseIndex];o&&(o.getComponentInChildren(u).color=new c(255,255,255))}this._curChoseIndex=t,n.getComponentInChildren(u).color=new c(255,178,102),this.btnConfirm.interactable||(this.btnConfirm.interactable=!0)}}else e.type==l.EventType.TOUCH_CANCEL&&(n.getComponentInChildren(u).color=new c(255,255,255))},s.onMouse=function(e){var n=e.target,t=parseInt(n.name.substring(10,11));e.type==l.EventType.MOUSE_ENTER?t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new c(102,82,71)):e.type==l.EventType.MOUSE_LEAVE&&t!=this._curChoseIndex&&(n.getComponentInChildren(u).color=new c(255,255,255))},s.onTouchEnd=function(e){this.onClose()},s.onConfirm=function(){H[this._curChoseIndex]&&b.inst.emit("CHOSEAUTOVIEW_CONFIRM",H[this._curChoseIndex]),this.onClose()},s.onClose=function(){this.node.getComponent(p).play("disappear")},s.disappearAniFinish=function(){this.node.destroy()},s.initUserInfo=function(){this.labWallet.string=f.wUserScore.toString(),this.labChip.string=f.wChipNum.toString(),this.labWin.string=f.wUserWin.toString()},n}(C)).prototype,"autoCountNodeArr",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=n(_.prototype,"labWallet",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(_.prototype,"labChip",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(_.prototype,"labWin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(_.prototype,"btnConfirm",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/ChoseBetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollValueItem.ts","./GlobalEvent.ts","./GlobalData.ts","./Constants.ts"],(function(e){var t,n,o,l,i,a,r,u,s,h,c,f,m,p,V,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,u=e.Node,s=e.Label,h=e.Button,c=e.Animation,f=e.Component},function(e){m=e.RollValueItem},function(e){p=e.GlobalEvent},function(e){V=e.globalData},function(e){C=e.Constants}],execute:function(){var g,I,b,d,E,x,B,v,y,w,T,S,A,N,O,H,M;a._RF.push({},"7cfa0xl6v5C4q3YuxuHvVOK","ChoseBetView",void 0);var _=r.ccclass,L=r.property,U=0,D=1,R=2,z=[5e3,1e4,15e3,2e4,25e3,3e4,35e3,4e4,45e3,5e4,1e5,15e4,2e5,25e4,3e5,35e4,4e5,45e4,5e5,8e5,12e5,16e5,2e6,24e5,28e5,32e5,36e5,4e6],W=[500,5e3,4e4],G=[1,2,3,4,5,6,7,8,9,10];e("ChoseBetView",(g=_("ChoseBetView"),I=L(u),b=L(s),d=L(s),E=L(s),x=L(h),B=L(h),v=L(h),g((T=t((w=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"rollValueItems",T,l(t)),o(t,"labScore",S,l(t)),o(t,"labBet",A,l(t)),o(t,"labWin",N,l(t)),o(t,"btnMaxBet",O,l(t)),o(t,"btnConfirm",H,l(t)),o(t,"btnClose",M,l(t)),t}n(t,e);var a=t.prototype;return a.start=function(){this.initRollValueItems(),this.initUserInfo(),p.inst.on("CHOSEBETVIEW_ROLLVALUECHANGE",this.rollValueChange,this),p.inst.on("CHOSEBETVIEW_SETBUTTON",this.setButtonStatus,this),this.node.on(u.EventType.TOUCH_END,this.onTouchEnd,this)},a.update=function(e){},a.onDestroy=function(){p.inst.off("CHOSEBETVIEW_ROLLVALUECHANGE"),p.inst.off("CHOSEBETVIEW_SETBUTTON")},a.onMaxBet=function(){for(var e,t=i(this.rollValueItems);!(e=t()).done;){e.value.getComponent(m).setMaxValue()}},a.OnConfirm=function(){var e=this.rollValueItems[2].getComponent(m).getCurValueIndex();e>=0&&e<z.length&&V.wChipNum!=z[e]&&(V.wChipNum=z[e],p.inst.emit("CHOSEBETVIEW_CHANGECHIP")),this.onClose()},a.rollValueChange=function(e){if(e.typeID==U){var t=this.rollValueItems[1].getComponent(m).getCurValueIndex(),n=e.getCurValueIndex(),o=this.getAmountValueIndex(n,t);o>=0&&this.rollValueItems[2].getComponent(m).setValueIndex(o)}else if(e.typeID==D){var l=e.getCurValueIndex(),i=this.rollValueItems[0].getComponent(m).getCurValueIndex(),a=this.getAmountValueIndex(i,l);a>=0&&this.rollValueItems[2].getComponent(m).setValueIndex(a)}else if(e.typeID==R){var r=e.getCurValueIndex(),u=[];this.getVauleIndexsByAmount(u,r),2==u.length&&(this.rollValueItems[0].getComponent(m).setValueIndex(u[0]),this.rollValueItems[1].getComponent(m).setValueIndex(u[1]))}},a.onClose=function(){this.node.getComponent(c).play("choseBetView_disappear")},a.disappearAniFinish=function(){this.node.destroy()},a.initRollValueItems=function(){this.rollValueItems[0].getComponent(m).setRollValue(W),this.rollValueItems[2].getComponent(m).setRollValue(z);for(var e=-1,t=0;t<z.length;t++)if(z[t]==V.wChipNum){e=t;break}if(e>=0&&3==this.rollValueItems.length){this.rollValueItems[2].getComponent(m).setValueIndex(e),this.rollValueItems[2].getComponent(m).isMaxValue()&&(this.btnMaxBet.interactable=!1);var n=[];this.getVauleIndexsByAmount(n,e),2==n.length&&(this.rollValueItems[0].getComponent(m).setValueIndex(n[0]),this.rollValueItems[1].getComponent(m).setValueIndex(n[1]))}},a.initUserInfo=function(){this.labScore.string=V.wUserScore.toString(),this.labBet.string=V.wChipNum.toString(),this.labWin.string=V.wUserWin.toString()},a.getVauleIndexsByAmount=function(e,t){if(t>=0)e:for(var n=0;n<W.length;n++)for(var o=0;o<G.length;o++){var l=W[n]*G[o]*C.GAME_LINECOUNT;if((l=Math.trunc(100*l)/100)==z[t]){e[0]=n,e[1]=o;break e}}},a.getAmountValueIndex=function(e,t){var n=-1;if(t>=0&&e>=0){var o=W[e]*G[t]*C.GAME_LINECOUNT;o=Math.trunc(100*o)/100;for(var l=0;l<z.length;l++)if(z[l]==o){n=l;break}}return n},a.setButtonStatus=function(e){this.btnConfirm.interactable!=e&&(this.btnClose.interactable=e,this.btnConfirm.interactable=e,e&&this.rollValueItems[2].getComponent(m).isMaxValue()||(this.btnMaxBet.interactable=e))},a.onTouchEnd=function(){this.onClose()},t}(f)).prototype,"rollValueItems",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=t(w.prototype,"labScore",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(w.prototype,"labBet",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(w.prototype,"labWin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(w.prototype,"btnMaxBet",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(w.prototype,"btnConfirm",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(w.prototype,"btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=w))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/Constants.ts",["cc"],(function(E){var I;return{setters:[function(E){I=E.cclegacy}],execute:function(){I._RF.push({},"ee76cOs2DZL66yqiRdu+lN5","Constants",void 0);var N=E("Constants",function(){function E(){}return E.FormatScore=function(E,I){if(I=I||2,(E/=this.SCORE_RATIO)==Math.floor(E))return E.toString();for(var N=1,T=1;T<=I;T++)if(E*(N*=10)==Math.floor(E*N))return E.toFixed(T).toString();return E.toFixed(I).toString()},E}());N.LEN_TOKEN=512,N.SCORE_RATIO=100,N.GAME_LINECOUNT=10,N.PRIZESYMBOL_STARTINDEX=1e4,N.FORTUNEGAME_TIMES=8,N.ROLL_STATUS={RollNormal:0,ReadyStop:1,RollStop:2},N.INFOBAR_INDEX={RANDOMINFO:0,WINEFFECT:1,MOREWINEFFECT:2,BIGWINEFFECT:3,FORTUNEWINEFFECT:4},N.GMAENOTIFICATION_ID={GAME_LOGIN:1,GAME_ENTERGAMESCENE:2,GAME_GAMESCENE:3,GAME_GAMESTART:4,GAME_GAMECONCLUDE:5,GAME_SENDREWARDPOOL:6,FRUITROLLFINISH:20,CLOSEPOPUPVIEW:21,SETAUDIOENABLE:22},N.ROLLITEM_TYPE={S_BLANK:0,H_CARROT:1,H_FIRECRACKER:2,H_COIN:3,H_HONGBAO:4,H_PACKET:5,H_INGOT:6,S_RABBIT:7,S_CASH:8},N.GAMEFINISH_SITUATION={NOTWIN_FINISH:0,WINEFEECT_FINISH:1,MOREWINEFFECT_FINISH:2,BIGWINEFFECT_FINISH:3,WINEFFECTANI_FINISH:4,GAMEFORTUNE_FINISH:5},N.GAME_STATUS={GAME_FREE:0,GAME_START:1},N.HISTORYCALENDAR_TYPE={DATE_TODAY:0,DATE_WEEK:1,DATE_CUSTOM:2},I._RF.pop()}}}));

System.register("chunks:///_virtual/footScoreShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./GlobalData.ts"],(function(t){var e,n,i,o,a,r,l,s,u,c,h,p,d,m,f,y,g,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.Prefab,u=t.SpriteFrame,c=t.Sprite,h=t.UIOpacity,p=t.find,d=t.instantiate,m=t.Label,f=t.Animation,y=t.Component},function(t){g=t.audioMgr},function(t){C=t.globalData}],execute:function(){var v,S,b,T,w,W,E,_,B,N,H,U,V,z,F;a._RF.push({},"b6bc9knPE5OZqoIAoRzLUVg","footScoreShow",void 0);var D=r.ccclass,O=r.property;t("footScoreShow",(v=D("footScoreShow"),S=O(l),b=O(l),T=O(l),w=O(s),W=O(s),E=O(u),v((N=e((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"ndWallet",N,o(e)),i(e,"ndChip",H,o(e)),i(e,"ndWin",U,o(e)),i(e,"choseBetView",V,o(e)),i(e,"gameHistoryView",z,o(e)),i(e,"icWalletSF",F,o(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.ndWallet.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.ndWallet.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.ndChip.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.ndChip.on(l.EventType.TOUCH_END,this.onTouchEnd,this),this.ndWin.on(l.EventType.TOUCH_START,this.onTouchStart,this),this.ndWin.on(l.EventType.TOUCH_END,this.onTouchEnd,this),1==C.wGameMode?this.ndWallet.getChildByName("icon").getComponent(c).spriteFrame=this.icWalletSF[0]:this.ndWallet.getChildByName("icon").getComponent(c).spriteFrame=this.icWalletSF[1]},a.update=function(t){},a.onTouchStart=function(t){var e=t.target.getChildByName("icon");e&&(e.getComponent(h).opacity=130)},a.onTouchEnd=function(t){var e=t.target,n=e.getChildByName("icon");n&&(n.getComponent(h).opacity=255);var i="on_"+e.name;"function"==typeof this[i]&&this[i]()},a.on_wallet=function(){},a.on_chip=function(){g.playEffect("menu_icon_press");var t=p("Canvas");if(!t.getChildByName("choseBetView")){var e=d(this.choseBetView);e&&t.addChild(e)}},a.on_win=function(){g.playEffect("menu_icon_press");var t=p("Canvas/viewBg");if(!t.getChildByName("GameHistoryView")){var e=d(this.gameHistoryView);e&&(e.name="GameHistoryView",t.addChild(e))}},a.updateWallet=function(){var t,e=null==(t=this.ndWallet.getChildByName("lab"))?void 0:t.getComponent(m);e&&(e.string=C.wUserScore.toString())},a.updateChip=function(){var t,e=null==(t=this.ndChip.getChildByName("lab"))?void 0:t.getComponent(m);e&&(e.string=C.wChipNum.toString())},a.updateWin=function(){var t,e=null==(t=this.ndWin.getChildByName("lab"))?void 0:t.getComponent(m);e&&(e.string=C.wUserWin.toString())},a.changeChip=function(){this.node.getComponent(f).play()},a.setNodeTouchStatus=function(t){t?(this.ndWallet.resumeSystemEvents(!0),this.ndChip.resumeSystemEvents(!0),this.ndWin.resumeSystemEvents(!0)):(this.ndWallet.pauseSystemEvents(!0),this.ndChip.pauseSystemEvents(!0),this.ndWin.pauseSystemEvents(!0))},e}(y)).prototype,"ndWallet",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"ndChip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"ndWin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"choseBetView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(B.prototype,"gameHistoryView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"icWalletSF",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=B))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/FortuneRabbitView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var e,n,i,o,a,r,l,s,u,c,p,f,h,m,g,b,y,v,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.Prefab,u=t.Animation,c=t.tween,p=t.UIOpacity,f=t.UITransform,h=t.instantiate,m=t.randomRange,g=t.Vec3,b=t.Component},function(t){y=t.RollItem},function(t){v=t.GlobalEvent},function(t){d=t.globalData}],execute:function(){var I,C,_,w,R,F,x,A,E,S,N;a._RF.push({},"d6baehUVyNKP4v1D1dYuAr0","FortuneRabbitView",void 0);var B=r.ccclass,D=r.property;t("FortuneRabbitView",(I=B("FortuneRabbitView"),C=D(l),_=D(s),w=D(l),R=D(l),I((A=e((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"reelBg",A,o(e)),i(e,"cashItem",E,o(e)),i(e,"logo_fs",S,o(e)),i(e,"vfx_d",N,o(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.node.getComponent(u).on(u.EventType.FINISHED,this.fortuneAniEvent,this)},a.update=function(t){},a.playStartAni=function(){this.logo_fs.getComponent(u).play(),this.vfx_d.active=!0,this.vfx_d.getComponent(u).play()},a.stopStartAni=function(){this.logo_fs.getComponent(u).pause(),c(this.logo_fs.getComponent(p)).to(.2,{opacity:0}).start(),this.vfx_d.getComponent(u).stop(),this.vfx_d.active=!1},a.playCashItemAni=function(){this.stopStartAni(),v.inst.emit("SHOWFORTUNEINFO",!0),this.schedule(this.createCashItem,.2),setTimeout((function(){d._gameFortuneRabbit=!0}),2e3)},a.createCashItem=function(){var t=this.reelBg.getComponent(f).width/3,e=this.reelBg.getComponent(f).height/2,n=[{x:0-t,y:e},{x:0,y:e},{x:0+t,y:e}],i=h(this.cashItem);if(i){var o=i.getComponent(f).height;i.setScale(.5,.5),i.getComponent(y).tryRandomCashNum(),this.reelBg.addChild(i),i.setPosition(0,100);var a=Math.floor(m(0,n.length)),r=c(i).to(.3,{scale:new g(.8,.8,1)}).to(.3,{scale:new g(.7,.7,1)}),l=c(i).to(.6,{position:new g(n[a].x,n[a].y,0)}).by(.6,{position:new g(0,-(e+o))});c(i).parallel(r,l).removeSelf().start()}},a.fortuneAniEvent=function(t,e){t==u.EventType.FINISHED&&(this.unschedule(this.createCashItem),v.inst.emit("FORTUNERABBIT_FINISH"))},e}(b)).prototype,"reelBg",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(x.prototype,"cashItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"logo_fs",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(x.prototype,"vfx_d",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=x))||F));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameHistory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HistoryListItem.ts","./GlobalEvent.ts","./HttpReqControl.ts","./Constants.ts","./HistoryCalendar.ts","./HistoryResult.ts"],(function(t){var e,i,n,o,r,a,s,l,u,c,y,h,p,m,f,H,d,g,C,T,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab,l=t.Node,u=t.Label,c=t.instantiate,y=t.UITransform,h=t.tween,p=t.Vec3,m=t.find,f=t.Component},function(t){H=t.HistoryListItem},function(t){d=t.GlobalEvent},function(t){g=t.HttpReqControl},function(t){C=t.Constants},function(t){T=t.HistoryCalendar},function(t){E=t.HistoryResult}],execute:function(){var R,_,b,D,A,I,v,S,G,O,Y,N,L,w,P,M,z;r._RF.push({},"bd74cR/6SFHlqMVwpuFcqCs","GameHistory",void 0);var B=a.ccclass,q=a.property;t("GameHistory",(R=B("GameHistory"),_=q(s),b=q(l),D=q(u),A=q(l),I=q(s),v=q(l),S=q(s),R((Y=e((O=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"historyListItem",Y,o(e)),n(e,"historyContent",N,o(e)),n(e,"topDateRange",L,o(e)),n(e,"bottomInfo",w,o(e)),n(e,"historyCalendar",P,o(e)),n(e,"tipNoHistory",M,o(e)),n(e,"historyResult",z,o(e)),e._calendarType=C.HISTORYCALENDAR_TYPE.DATE_TODAY,e._gameHistoryData=null,e}i(e,t);var r=e.prototype;return r.start=function(){this.onAppear(),d.inst.on("HTTPRESPOND_GAMEHISTORY",this.onHttpGameHistory,this),d.inst.on("GAMEHISTORY_REQUESTGAMEHISTORY",this.requestGameHistory,this),d.inst.on("GAMEHISTORY_OPENDETAILVIEW",this.openDetailView,this)},r.onDestroy=function(){d.inst.off("HTTPRESPOND_GAMEHISTORY"),d.inst.off("GAMEHISTORY_REQUESTGAMEHISTORY"),d.inst.off("GAMEHISTORY_OPENDETAILVIEW")},r.update=function(t){},r.createRecordItems=function(t){for(var e=0;e<t.length;e++){var i=c(this.historyListItem);i&&(this.historyContent.addChild(i),i.getComponent(H).initListItem(e,t[e]))}},r.updateGameHistory=function(t){var e=0;this.historyContent.destroyAllChildren(),t.list?(e=t.list.length,this.createRecordItems(t.list),this.tipNoHistory.active=!1):this.tipNoHistory.active=!0,this.bottomInfo.getChildByName("lab_records").getComponent(u).string=e+" Registos",this.bottomInfo.getChildByName("lab_totalPayout").getComponent(u).string=t.statistics.total_bet_gold,this.bottomInfo.getChildByName("lab_totalWin").getComponent(u).string=t.statistics.total_change_gold},r.onClose=function(){var t=this.node.getComponent(y).contentSize;h(this.node).to(.2,{position:new p(0,-t.height,0)}).destroySelf().start()},r.onAppear=function(){var t=this,e=this.node.getComponent(y).contentSize;this.node.setPosition(0,-e.height),h(this.node).to(.2,{position:new p(0,0,0)}).call((function(){t.initGameHistory()})).start()},r.openDetailView=function(t){if(this._gameHistoryData.list[t]){var e=m("Canvas/viewBg");if(!e.getChildByName("HistoryResult")){var i=c(this.historyResult);i.name="HistoryResult",e.addChild(i),i.getComponent(E).initHistoryResult(this._gameHistoryData.list[t])}}},r.onHttpGameHistory=function(t){0==t.code?(this._gameHistoryData=t.data,this.updateGameHistory(this._gameHistoryData)):console.log(t.msg)},r.onCalendar=function(){var t=m("Canvas/viewBg");if(!t.getChildByName("HistoryCalendar")){var e=c(this.historyCalendar);e.name="HistoryCalendar",t.addChild(e),e.getComponent(T).setDateFontLight(this._calendarType)}},r.requestGameHistory=function(t,e,i){g.inst.requestGameHistory(t,e);var n="Hoje";this._calendarType=C.HISTORYCALENDAR_TYPE.DATE_TODAY,i==C.HISTORYCALENDAR_TYPE.DATE_WEEK?(n="Últimos 7 dias",this._calendarType=C.HISTORYCALENDAR_TYPE.DATE_WEEK):i==C.HISTORYCALENDAR_TYPE.DATE_CUSTOM&&(n=t+" - "+e,this._calendarType=C.HISTORYCALENDAR_TYPE.DATE_CUSTOM),this.bottomInfo.getChildByName("lab_dateRange").getComponent(u).string=n,this.topDateRange.string=n},r.initGameHistory=function(){var t=(new Date).toLocaleDateString();g.inst.requestGameHistory(t,t)},e}(f)).prototype,"historyListItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(O.prototype,"historyContent",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(O.prototype,"topDateRange",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(O.prototype,"bottomInfo",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(O.prototype,"historyCalendar",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(O.prototype,"tipNoHistory",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(O.prototype,"historyResult",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=O))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/GamePayTable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.UITransform,r=t.tween,s=t.Vec3,a=t.Component}],execute:function(){var c;n._RF.push({},"6e0972c1pZNsYppYuDbNtY6","GamePayTable",void 0);var p=o.ccclass;o.property,t("GamePayTable",p("GamePayTable")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){this.onAppear()},o.update=function(t){},o.onClose=function(){var t=this.node.getComponent(i).contentSize;r(this.node).to(.2,{position:new s(0,-t.height,0)}).destroySelf().start()},o.onAppear=function(){var t=this.node.getComponent(i).contentSize;this.node.setPosition(0,-t.height),r(this.node).to(.2,{position:new s(0,0,0)}).start()},n}(a))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRuleView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,r,s,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.UITransform,r=e.tween,s=e.Vec3,c=e.Component}],execute:function(){var u;n._RF.push({},"00861wpeeZK4Y51GNYETS9s","GameRuleView",void 0);var a=o.ccclass;o.property,e("GameRuleView",a("GameRuleView")(u=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.start=function(){this.onAppear()},o.update=function(e){},o.onClose=function(){var e=this.node.getComponent(i).contentSize;r(this.node).to(.2,{position:new s(0,-e.height,0)}).destroySelf().start()},o.onAppear=function(){var e=this.node.getComponent(i).contentSize;this.node.setPosition(0,-e.height),r(this.node).to(.2,{position:new s(0,0,0)}).start()},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameViewControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./FortuneRabbitView.ts","./Constants.ts"],(function(t){var e,n,i,o,r,a,u,s,f,b,l,h,p,m,c,g,F,R,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Prefab,s=t.SpriteFrame,f=t.Sprite,b=t.Node,l=t.Animation,h=t.instantiate,p=t.tween,m=t.UIOpacity,c=t.Label,g=t.Component},function(t){F=t.GlobalEvent},function(t){R=t.FortuneRabbitView},function(t){_=t.Constants}],execute:function(){var w,d,I,y,V,C,S,N,A,B,v;r._RF.push({},"2611ftXzW1NsZytWnABg7JC","GameViewControl",void 0);var E=a.ccclass,T=a.property,O=1,G=2;t("GameViewControl",(w=E("GameViewControl"),d=T(u),I=T(s),y=T(f),V=T(b),w((N=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"fortuneRabbitView",N,o(e)),i(e,"reelBgFrameArr",A,o(e)),i(e,"reelBg",B,o(e)),i(e,"fortuneInfo",v,o(e)),e._fortuneStatus=0,e._gameFortuneRabbitView=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.node.getComponent(l).on(l.EventType.FINISHED,this.nodeAniFinished,this),F.inst.on("SHOWFORTUNEINFO",this.setfortuneInfo,this)},r.onDestroy=function(){F.inst.off("SHOWFORTUNEINFO")},r.update=function(t){},r.setViewBg=function(t){this.reelBgFrameArr[t]&&(this.reelBg.spriteFrame=this.reelBgFrameArr[t])},r.addFortuneRabbitView=function(){if(this.fortuneRabbitView){if(this._gameFortuneRabbitView)return;var t=h(this.fortuneRabbitView);this.node.parent.addChild(t),this._gameFortuneRabbitView=t}},r.removeFortuneRabbitView=function(){this._gameFortuneRabbitView&&(this._gameFortuneRabbitView.destroy(),this._gameFortuneRabbitView=null)},r.goFortuneRabbit=function(t){this._fortuneStatus=t,this.addFortuneRabbitView(),this.node.getComponent(l).play("fortuneRabbit_start")},r.playFortuneRabbitStartAni=function(){this._gameFortuneRabbitView&&this._gameFortuneRabbitView.getComponent(R).playStartAni()},r.nodeAniFinished=function(t,e){var n=this;"fortuneRabbit_start"==e.name?this._fortuneStatus==O?(this._gameFortuneRabbitView&&this._gameFortuneRabbitView.getComponent(R).stopStartAni(),this.node.getComponent(l).play("fortuneRabbit_end")):this._fortuneStatus==G&&(F.inst.emit("FORTUNERABBIT_SUCCESS"),this._gameFortuneRabbitView&&setTimeout((function(){n._gameFortuneRabbitView.getComponent(l).play()}),400)):"fortuneRabbit_end"==e.name&&(this._fortuneStatus==O?(this.removeFortuneRabbitView(),this.setViewBg(0),F.inst.emit("FORTUNERABBIT_FAIL")):this._fortuneStatus==G&&F.inst.emit("MAINSCENE_GAMEFINISH",_.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH))},r.setfortuneInfo=function(t){t?(this.fortuneInfo.getChildByName("spr_times").active=!0,this.fortuneInfo.getChildByName("spr_lfs").active=!1,this.updateFortuneInfo(8),p(this.fortuneInfo.getComponent(m)).to(.2,{opacity:255}).start()):p(this.fortuneInfo.getComponent(m)).to(.2,{opacity:0}).start()},r.updateFortuneInfo=function(t){t<=0?(this.fortuneInfo.getChildByName("spr_times").active=!1,this.fortuneInfo.getChildByName("spr_lfs").active=!0):this.fortuneInfo.getChildByName("spr_times").getComponentInChildren(c).string=t.toString()},e}(g)).prototype,"fortuneRabbitView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(S.prototype,"reelBgFrameArr",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=e(S.prototype,"reelBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(S.prototype,"fortuneInfo",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=S))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalData.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"47de3QHr6FJdaH4vfMtr7LX","GlobalData",void 0);var e=function(){function t(){this.wUserID=0,this.wUserScore=0,this.wSzNickName="unknown",this.wUserAccount="",this.wUserToken="",this.wGameMode=1,this.wChipNum=0,this.wUserWin=0,this.wTurboOn=!1,this._gameFortuneRabbit=!1}var s=t.prototype;return s.setUserID=function(t){this.wUserID=t},s.setUserAccountData=function(t,s,e){this.wUserToken=t,this.wUserAccount=s,this.wGameMode=e},t.getInstance=function(){return t._classInstance||(t._classInstance=new t),t._classInstance},t}();e._classInstance=null;t("globalData",e.getInstance());s._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,t,c;return{setters:[function(n){e=n.createClass},function(n){t=n.cclegacy,c=n.EventTarget}],execute:function(){t._RF.push({},"fc03eQ+v3VNUYIVyL6agtYm","GlobalEvent",void 0),n("GlobalEvent",function(){function n(){}return e(n,null,[{key:"inst",get:function(){return n._classInstance||(n._classInstance=new c),n._classInstance}}]),n}())._classInstance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryCalendar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts","./Constants.ts"],(function(t){var e,n,i,a,r,o,s,l,h,g,c,D,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,s=t.Label,l=t.Node,h=t.Color,g=t.ScrollView,c=t.UITransform,D=t.Component},function(t){u=t.GlobalEvent},function(t){d=t.Constants}],execute:function(){var C,b,f,w,v,m,p,y,T,B,S,V,E,A,I;r._RF.push({},"bd0f6hgc8FBKLAZDqEVmhDi","HistoryCalendar",void 0);var R=o.ccclass,Y=o.property,_=["year","month","day","year","month","day"];t("HistoryCalendar",(C=R("HistoryCalendar"),b=Y(s),f=Y(l),w=Y(l),v=Y(s),m=Y(s),p=Y(l),C((B=e((T=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"dateFontArr",B,a(e)),i(e,"calendarDateRange",S,a(e)),i(e,"calendarCustom",V,a(e)),i(e,"labTitle",E,a(e)),i(e,"labBtnDate",A,a(e)),i(e,"dateChoseView",I,a(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.initGameView(),this.calendarCustom.on(l.EventType.TOUCH_END,this.onCuntomTouchEnd,this)},r.update=function(t){},r.setDateFontLight=function(t){this.dateFontArr[t]&&(this.dateFontArr[t].color=new h(255,178,102,255))},r.onCuntomTouchEnd=function(t){for(var e=0;e<this.dateChoseView.length;e++)this.dateChoseView[e].active&&(this.dateChoseView[e].active=!1)},r.onChoseDate=function(t,e){var n=null,i=null,a=d.HISTORYCALENDAR_TYPE.DATE_TODAY;if("today"===e)i=n=(new Date).toLocaleDateString(),a=d.HISTORYCALENDAR_TYPE.DATE_TODAY;else if("week"===e){var r=new Date;n=new Date(r.getTime()-5184e5).toLocaleDateString(),i=r.toLocaleDateString(),a=d.HISTORYCALENDAR_TYPE.DATE_WEEK}else"custom"===e&&(n=this.labBtnDate[0].string+"/"+this.labBtnDate[1].string+"/"+this.labBtnDate[2].string,i=this.labBtnDate[3].string+"/"+this.labBtnDate[4].string+"/"+this.labBtnDate[5].string,a=d.HISTORYCALENDAR_TYPE.DATE_CUSTOM);n&&i&&(u.inst.emit("GAMEHISTORY_REQUESTGAMEHISTORY",n,i,a),this.node.destroy())},r.onCustom=function(){this.calendarDateRange.active=!1,this.calendarCustom.active=!0,this.labTitle.string="Personalizado"},r.onBack=function(){this.calendarCustom.active?(this.calendarDateRange.active=!0,this.calendarCustom.active=!1,this.labTitle.string="Selecionar intervalo de datas"):this.node.destroy()},r.onClickDate=function(t,e){var n=parseInt(e);if(!(n<0||n>=this.dateChoseView.length)){var i=t.target.getComponentInChildren(s).string;if(i!=this.labBtnDate[n].string){if("month"==_[n]){var a=this.getMaxDay(parseInt(i)),r=this.getDateID(n,"day");r>=0&&(this.labBtnDate[r].string=a.toString())}this.labBtnDate[n].string=i,this.checkDateChange(n)}this.dateChoseView[n].active=!1}},r.showDateChoseView=function(t,e){var n=parseInt(e);if(!(n<0||n>=this.dateChoseView.length))if(this.dateChoseView[n].active)this.dateChoseView[n].active=!1;else{if(this.dateChoseView[n].active=!0,"day"==_[n]){var i;null==(i=this.dateChoseView[n].getComponent(g))||i.scrollToTop();var a=this.getDateID(n,"month"),r=this.getMaxDay(parseInt(this.labBtnDate[a].string));this.dateChoseView[n].getComponent(g).content.getComponent(c).height=72*r}for(var o=0;o<this.dateChoseView.length;o++)o!=n&&(this.dateChoseView[o].active=!1)}},r.initGameView=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();this.labBtnDate[0].string=e.toString(),this.labBtnDate[1].string=n.toString(),this.labBtnDate[2].string=i.toString(),this.dateChoseView[0].getChildByName("btnYear").getComponentInChildren(s).string=e.toString();for(var a=n-this.dateChoseView[1].children.length+1,r=0;r<this.dateChoseView[1].children.length;r++)this.dateChoseView[1].children[r].getComponentInChildren(s).string=(a+r).toString();this.labBtnDate[3].string=e.toString(),this.labBtnDate[4].string=n.toString(),this.labBtnDate[5].string=i.toString(),this.dateChoseView[3].getChildByName("btnYear").getComponentInChildren(s).string=e.toString();for(var o=0;o<this.dateChoseView[4].children.length;o++)this.dateChoseView[4].children[o].getComponentInChildren(s).string=(a+o).toString()},r.getDateID=function(t,e){var n=[[0,1,2],[3,4,5]],i=0;return"month"==e?i=1:"day"==e&&(i=2),t<=2?n[0][i]:n[1][i]},r.checkDateChange=function(t){var e=!0;t>2&&(e=!1);var n=this.labBtnDate[0].string+"-"+this.labBtnDate[1].string+"-"+this.labBtnDate[2].string,i=this.labBtnDate[3].string+"-"+this.labBtnDate[4].string+"-"+this.labBtnDate[5].string,a=new Date(n).getTime(),r=new Date(i).getTime();if(e){var o=Math.min(a+5184e5,(new Date).getTime());if(r<a||r>o){r=o;var s=new Date(r);this.labBtnDate[4].string=(s.getMonth()+1).toString(),this.labBtnDate[5].string=s.getDate().toString()}}else{var l=r-5184e5;if(a>r||a<l){a=l;var h=new Date(a);this.labBtnDate[1].string=(h.getMonth()+1).toString(),this.labBtnDate[2].string=h.getDate().toString()}}},r.getMaxDay=function(t){var e=new Date;return t==e.getMonth()+1?e.getDate():new Date(e.getFullYear(),t,0).getDate()},e}(D)).prototype,"dateFontArr",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(T.prototype,"calendarDateRange",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(T.prototype,"calendarCustom",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(T.prototype,"labTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(T.prototype,"labBtnDate",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(T.prototype,"dateChoseView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=T))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(t){var e,o,n,i,s,r,h,p,a,l;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Node,s=t.Sprite,r=t.Color,h=t.Label,p=t.RichText,a=t.Component},function(t){l=t.GlobalEvent}],execute:function(){var c;o._RF.push({},"4e70eBVitpGd4aVXf513Gdf","HistoryListItem",void 0);var g=n.ccclass,u=(n.property,1),m=2,d=[[48,48,60,255],[52,52,63,255]];t("HistoryListItem",g("HistoryListItem")(c=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))||this)._itemType=u,e._itemIndex=0,e}e(o,t);var n=o.prototype;return n.start=function(){this.node.on(i.EventType.TOUCH_START,this.onTouch,this),this.node.on(i.EventType.TOUCH_END,this.onTouch,this),this.node.on(i.EventType.TOUCH_CANCEL,this.onTouch,this),this.node.on(i.EventType.MOUSE_ENTER,this.onMouse,this),this.node.on(i.EventType.MOUSE_LEAVE,this.onMouse,this)},n.update=function(t){},n.onTouch=function(t){t.type==i.EventType.TOUCH_START?this.node.getComponent(s).color=new r(60,60,70,255):(this.setBgColor(),t.type==i.EventType.TOUCH_END&&l.inst.emit("GAMEHISTORY_OPENDETAILVIEW",this._itemIndex))},n.onMouse=function(t){t.type==i.EventType.MOUSE_ENTER?this.node.getComponent(s).color=new r(40,40,52,255):t.type==i.EventType.MOUSE_LEAVE&&this.setBgColor()},n.initListItem=function(t,e){this._itemIndex=t,(this._itemIndex+1)%2==0?this._itemType=m:this._itemType=u,this.setBgColor();var o=new Date(1e3*parseInt(e.time)),n=o.getMonth()+1,i=n>=10?n.toString():"0"+n,s=o.getDate(),a=s>=10?s.toString():"0"+s,l=o.toLocaleTimeString()+"\n"+i+"/"+a;this.node.getChildByName("labTime").getComponent(h).string=l;var c=parseFloat(e.result.bet_gold);this.node.getChildByName("labPayout").getComponent(h).string=c.toString();var g=parseFloat(e.result.change_gold),d=g.toString();g>=0&&(this.node.getChildByName("labWin").getComponent(h).color=new r(255,255,255,255)),this.node.getChildByName("labWin").getComponent(h).string=d;var T=e.order_id;e.result.props.length>1?T+="<br/><img src = 'ic_03' offset = 3,0/><img src = 'ic_01' offset = 6,0/>":1==e.result.props.length&&e.result.props[0].rewardscharscore.length>=5&&(T+="<br/><img src = 'ic_01' offset = 3,0/>"),this.node.getChildByName("textTransaction").getComponent(p).string=T},n.setBgColor=function(){var t=d[this._itemType-1];t&&(this.node.getComponent(s).color=new r(t[0],t[1],t[2],t[3]))},o}(a))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HistoryResultView.ts"],(function(t){var e,i,o,n,r,l,s,a,u,h,c,f,p,g,w,T,C,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,a=t.Label,u=t.PageView,h=t.Prefab,c=t.UIOpacity,f=t.tween,p=t.Vec3,g=t.Color,w=t.instantiate,T=t.UITransform,C=t.Component},function(t){y=t.HistoryResultView}],execute:function(){var d,m,v,b,R,V,A,E,H,I,N,_,L,x,z,P,D,F,U,B,O,S,G;r._RF.push({},"69521CzkLtAcaON2dSbu/E7","HistoryResult",void 0);var M=l.ccclass,W=l.property;t("HistoryResult",(d=M("HistoryResult"),m=W(s),v=W(s),b=W(a),R=W(s),V=W(s),A=W(s),E=W(u),H=W(s),I=W(s),N=W(h),d((x=e((L=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"normalTitle",x,n(e)),o(e,"fortuneTitle",z,n(e)),o(e,"titleTime",P,n(e)),o(e,"resultInfo",D,n(e)),o(e,"arrowLeft",F,n(e)),o(e,"arrowRight",U,n(e)),o(e,"detailView",B,n(e)),o(e,"fortuneChoseView",O,n(e)),o(e,"fortuneChoseText",S,n(e)),o(e,"historyResultView",G,n(e)),e}i(e,t);var r=e.prototype;return r.start=function(){this.onAppear(),this.fortuneTitle.on(s.EventType.TOUCH_END,this.fortuneTitleTouchEnd,this),this.arrowLeft.on(s.EventType.TOUCH_START,this.onArrowLeftTouch,this),this.arrowLeft.on(s.EventType.TOUCH_END,this.onArrowLeftTouch,this),this.arrowRight.on(s.EventType.TOUCH_START,this.onArrowRightTouch,this),this.arrowRight.on(s.EventType.TOUCH_END,this.onArrowRightTouch,this)},r.update=function(t){},r.onPageEvent=function(t,e){if(e==u.EventType.PAGE_TURNING){var i=t.getCurrentPageIndex(),o=t.getPages().length;i<=0?this.arrowLeft.active=!1:i<o-1?(this.arrowLeft.active=!0,this.arrowRight.active=!0):this.arrowRight.active=!1,this.fortuneTitle.getComponentInChildren(a).string="Rodada da Fortuna: "+(i+1)+"/8"}},r.onArrowLeftTouch=function(t){t.type==s.EventType.TOUCH_START?this.arrowLeft.getComponent(c).opacity=150:t.type==s.EventType.TOUCH_END&&(this.arrowLeft.getComponent(c).opacity=255,this.onArrowTouch("left"))},r.onArrowRightTouch=function(t){t.type==s.EventType.TOUCH_START?this.arrowRight.getComponent(c).opacity=150:t.type==s.EventType.TOUCH_END&&(this.arrowRight.getComponent(c).opacity=255,this.onArrowTouch("right"))},r.initHistoryResult=function(t){2==t.result.type?(this.normalTitle.active=!1,this.fortuneTitle.active=!0,this.initFortuneChoseText(t.result.props),this.arrowRight.active=!0):(this.normalTitle.active=!0,this.fortuneTitle.active=!1),this.initResultInfo(t.order_id,t.result);var e=new Date(1e3*parseInt(t.time));this.titleTime.string=e.toLocaleDateString()+" "+(e.getHours()+1)+":"+e.getMinutes()+" (GMT+8:00)",this.initDetailView(t.result.bet,t.result.props)},r.fortuneTitleTouchEnd=function(){var t=this;this.fortuneChoseView.active?this.onCloseFortuneChoseView():(this.fortuneChoseView.active=!0,this.setFortuneChoseTextColor(!0),f(this.fortuneChoseView).to(.3,{position:new p(0,554,0)}).call((function(){t.fortuneTitle.getChildByName("sprArrow").eulerAngles=new p(0,0,90)})).start())},r.onChoseFotuneRound=function(t,e){var i=parseInt(e);i<0||i>=8||(this.onCloseFortuneChoseView(),this.detailView.scrollToPage(i))},r.onArrowTouch=function(t){var e=this.detailView.getCurrentPageIndex();"left"==t?e-=1:e+=1,this.detailView.scrollToPage(e)},r.onCloseFortuneChoseView=function(){var t=this;this.setFortuneChoseTextColor(!1),f(this.fortuneChoseView).to(.3,{position:new p(0,1914,0)}).call((function(){t.fortuneTitle.getChildByName("sprArrow").eulerAngles=new p(0,0,270),t.fortuneChoseView.active=!1})).start()},r.setFortuneChoseTextColor=function(t){var e=this.fortuneChoseText[this.detailView.getCurrentPageIndex()];if(e){var i=e.getChildByName("fortuneRound").getComponent(a),o=e.getChildByName("roundWin").getComponent(a);t?(i.color=new g(255,178,102),o.color=new g(255,178,102)):(i.color=new g(255,255,255),o.color=new g(255,255,255))}},r.initFortuneChoseText=function(t){if(t.length==this.fortuneChoseText.length)for(var e=0;e<this.fortuneChoseText.length;e++){var i=t[e].totalrollerbet;this.fortuneChoseText[e].getChildByName("roundWin").getComponent(a).string=i}},r.initDetailView=function(t,e){for(var i=8==e.length,o=0;o<e.length;o++){var n=w(this.historyResultView);n.getComponent(y).initView(t,e[o],i),this.detailView.addPage(n)}},r.initResultInfo=function(t,e){this.resultInfo.getChildByName("labTransaction").getComponent(a).string=t,this.resultInfo.getChildByName("labPayout").getComponent(a).string=e.bet_gold,this.resultInfo.getChildByName("labWin").getComponent(a).string=e.change_gold,this.resultInfo.getChildByName("labBalance").getComponent(a).string=e.end_gold},r.onAppear=function(){var t=this.node.getComponent(T).contentSize;this.node.setPosition(t.width,0),f(this.node).to(.2,{position:new p(0,0,0)}).start()},r.onClose=function(){var t=this.node.getComponent(T).contentSize;f(this.node).to(.2,{position:new p(t.width,0,0)}).destroySelf().start()},e}(C)).prototype,"normalTitle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(L.prototype,"fortuneTitle",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"titleTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(L.prototype,"resultInfo",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(L.prototype,"arrowLeft",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(L.prototype,"arrowRight",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"detailView",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(L.prototype,"fortuneChoseView",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(L.prototype,"fortuneChoseText",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(L.prototype,"historyResultView",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=L))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/HistoryResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./WinLineDetail.ts","./GlobalEvent.ts","./WinLineBubble.ts"],(function(e){var t,i,n,r,o,l,a,s,u,h,c,p,b,w,f,d,g,m,v,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.SpriteAtlas,s=e.Node,u=e.Sprite,h=e.Label,c=e.Font,p=e.Prefab,b=e.instantiate,w=e.UITransform,f=e.Vec3,d=e.Component},function(e){g=e.Constants},function(e){m=e.WinLineDetail},function(e){v=e.GlobalEvent},function(e){C=e.WinLineBubble}],execute:function(){var S,y,N,L,W,B,A,z,R,F,_,I,D,P,T,V,E,H,O,M,U,x,X,Y,G,Z,j;o._RF.push({},"4137eimuXdJ/oszYQdaP5lc","HistoryResultView",void 0);var k=l.ccclass,J=l.property,Q=[[0,3,7],[0,4,7],[0,4,8],[1,4,7],[1,4,8],[1,5,8],[1,5,9],[2,5,8],[2,5,9],[2,6,9]];e("HistoryResultView",(S=k("HistoryResultView"),y=J(a),N=J(s),L=J(s),W=J(u),B=J(h),A=J(s),z=J(s),R=J(s),F=J(c),_=J(p),I=J(p),D=J(s),S((V=t((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"resultAtlas",V,r(t)),n(t,"resultNodeArr",E,r(t)),n(t,"winShow",H,r(t)),n(t,"spinResult",O,r(t)),n(t,"labBetSize",M,r(t)),n(t,"noWin",U,r(t)),n(t,"winLineShow",x,r(t)),n(t,"cashWin",X,r(t)),n(t,"cashNumFont",Y,r(t)),n(t,"winLineDetail",G,r(t)),n(t,"winLineBubble",Z,r(t)),n(t,"scollViewContent",j,r(t)),t._betNum=0,t}i(t,e);var o=t.prototype;return o.start=function(){this.scollViewContent.on(s.EventType.TOUCH_END,this.onScrollContentTouch,this),v.inst.on("SHOWWINLINEBUBBLE",this.showWinLineBubble,this)},o.onDestroy=function(){v.inst.off("SHOWWINLINEBUBBLE")},o.update=function(e){},o.showWinLineBubble=function(e){var t=e._nodeIndex,i=e._rewardImageID,n=this.scollViewContent.getChildByName("WinLineBubble");if(n&&n.getComponent(C).isMatch(t))n.destroy();else{n||((n=b(this.winLineBubble)).name="WinLineBubble",this.scollViewContent.addChild(n)),n.getComponent(C).setWinDetail(this._betNum,i,t);var r=e.node.getWorldPosition();n.setPosition(this.scollViewContent.getComponent(w).convertToNodeSpaceAR(new f(r.x,r.y-100,0)))}},o.onScrollContentTouch=function(e){if(this.winLineShow.active){var t=this.scollViewContent.getChildByName("WinLineBubble");t&&t.destroy()}},o.initView=function(e,t,i){var n=parseInt(e);this._betNum=n,this.labBetSize.string="Aposta "+n,i&&(this.spinResult.spriteFrame=this.resultAtlas.getSpriteFrame("fs_bg")),this.initResult(n,t.roller);var r=parseInt(t.totalrollerbet);r>0?(this.showWin(t.rewardline,t.rewardscharscore),this.showBottomWin(t.rewardline,n,r)):this.noWin.active=!0},o.initResult=function(e,t){if(t.length==this.resultNodeArr.length)for(var i=0;i<t.length;i++){var n=t[i];if(n>g.PRIZESYMBOL_STARTINDEX){var r=(n-g.PRIZESYMBOL_STARTINDEX)/10;n=8;var o=new s;o.setPosition(0,8);var l=o.addComponent(h);l.fontSize=25,l.string=(r*(10*e)).toString(),l.font=r<10?this.cashNumFont[0]:r<50?this.cashNumFont[1]:this.cashNumFont[2],this.resultNodeArr[i].addChild(o)}var a=this.resultAtlas.getSpriteFrame("icon_"+n);a&&(this.resultNodeArr[i].getComponent(u).spriteFrame=a)}},o.showWin=function(e,t){if(e&&e.length>0){this.winShow.active=!0;for(var i=this.winShow.getChildByName("winContent"),n=0;n<e.length;n++){var r=e[n].rewardlineid-1,o=Q[r];if(o)for(var l=0;l<o.length;l++){var a=this.resultNodeArr[o[l]];if(a){var h=new s;h.addComponent(u).spriteFrame=this.resultAtlas.getSpriteFrame("bg_win");var c=b(a);c.setPosition(0,0),h.addChild(c);var p=a.getWorldPosition();h.setPosition(i.getComponent(w).convertToNodeSpaceAR(p)),i.addChild(h)}}}}if(t.length>=5){this.winShow.active=!0;for(var f=this.winShow.getChildByName("winContent"),d=0;d<this.resultNodeArr.length;d++)if("icon_8"==this.resultNodeArr[d].getComponent(u).spriteFrame.name){var g=b(this.resultNodeArr[d]);g.getComponent(u).spriteFrame=this.resultAtlas.getSpriteFrame("icon_9");var m=this.resultNodeArr[d].getWorldPosition();g.setPosition(f.getComponent(w).convertToNodeSpaceAR(m)),f.addChild(g)}}},o.showBottomWin=function(e,t,i){if(e&&e.length>0){this.winLineShow.active=!0;for(var n=0;n<e.length;n++){var r=b(this.winLineDetail);r.getComponent(m).initWinLine(e[n],n),this.winLineShow.addChild(r)}}else this.cashWin.active=!0,this.cashWin.getComponentInChildren(h).string=i.toString()},t}(d)).prototype,"resultAtlas",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"resultNodeArr",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=t(T.prototype,"winShow",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(T.prototype,"spinResult",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"labBetSize",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"noWin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(T.prototype,"winLineShow",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(T.prototype,"cashWin",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(T.prototype,"cashNumFont",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(T.prototype,"winLineDetail",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(T.prototype,"winLineBubble",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(T.prototype,"scollViewContent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/HttpReqControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalData.ts","./GlobalEvent.ts"],(function(e){var n,t,o,a;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){o=e.globalData},function(e){a=e.GlobalEvent}],execute:function(){t._RF.push({},"9ebb4cI/T9E4pTsdZbt+bQh","HttpReqControl",void 0);e("HttpReqControl",function(){function e(){}var t=e.prototype;return t.requestInitRoom=function(){console.log("sendInitRoom");var e=new URLSearchParams;e.append("token",o.wUserToken),e.append("language","EN"),e.append("selectGameMode",o.wGameMode.toString()),fetch("https://game.brwin888.com/single_game.rabbit/initRoom",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((function(e){return e.json()})).then((function(e){a.inst.emit("HTTPRESPOND_INITROOM",e)})).catch((function(e){console.error("Error:",e)}))},t.requestGameResult=function(){var e=new URLSearchParams;e.append("token",o.wUserToken),e.append("language","EN"),e.append("bet_gold",o.wChipNum.toString()),e.append("selectGameMode",o.wGameMode.toString()),fetch("https://game.brwin888.com/single_game.rabbit/gameResult",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e.toString()}).then((function(e){return e.json()})).then((function(e){a.inst.emit("HTTPRESPOND_GAMERESULT",e)})).catch((function(e){console.error("Error:",e)}))},t.requestGameHistory=function(e,n){var t=new URLSearchParams;t.append("token",o.wUserToken),t.append("language","EN"),t.append("page_size","30"),t.append("page","1"),t.append("startDay",e),t.append("endDay",n),t.append("selectGameMode",o.wGameMode.toString()),fetch("https://game.brwin888.com/goldgame/Rabbit_user_history",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:t.toString()}).then((function(e){return e.json()})).then((function(e){a.inst.emit("HTTPRESPOND_GAMEHISTORY",e)})).catch((function(e){console.error("Error:",e)}))},n(e,null,[{key:"inst",get:function(){return e._classInstance||(e._classInstance=new e),e._classInstance}}]),e}())._classInstance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/InfoBarMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GlobalData.ts","./GlobalEvent.ts","./AudioMgr.ts"],(function(t){var n,i,e,o,r,a,f,s,I,h,c,u,l,N,m,E,p,F,d,_,g;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,f=t.Node,s=t.SpriteFrame,I=t.Animation,h=t.randomRange,c=t.UITransform,u=t.tween,l=t.Vec3,N=t.Sprite,m=t.Label,E=t.Tween,p=t.Component},function(t){F=t.Constants},function(t){d=t.globalData},function(t){_=t.GlobalEvent},function(t){g=t.audioMgr}],execute:function(){var w,B,C,v,y,x,b,T,A,S,O,R,W,D,M,G,X;r._RF.push({},"8272amGYq9G+6GrnDToYtPo","InfoBarMgr",void 0);var H=a.ccclass,z=a.property,U=-135,P=15;t("InfoBarMgr",(w=H("InfoBarMgr"),B=z(f),C=z(f),v=z(f),y=z(s),x=z(f),b=z(f),T=z(s),w((O=n((S=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,e(n,"infoBar",O,o(n)),e(n,"randomInfoNode",R,o(n)),e(n,"winEffect",W,o(n)),e(n,"infoBarFrame",D,o(n)),e(n,"winNum",M,o(n)),e(n,"vfxCions",G,o(n)),e(n,"winTextFrame",X,o(n)),n._barIndex=[0,1,2],n._curBarIndex=-1,n._curInfoIndex=F.INFOBAR_INDEX.RANDOMINFO,n._fortuneWinNum=0,n}i(n,t);var r=n.prototype;return r.start=function(){var t=this;this.randomShowInfo(),this.vfxCions.getComponent(I).on(I.EventType.FINISHED,(function(){t._curInfoIndex==F.INFOBAR_INDEX.MOREWINEFFECT?_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.MOREWINEFFECT_FINISH):t._curInfoIndex==F.INFOBAR_INDEX.BIGWINEFFECT&&_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH)})),this.winEffect.getChildByName("ib_vfx_b").getComponent(I).on(I.EventType.FINISHED,(function(){_.inst.emit("MAINSCENE_GAMEFINISH",F.GAMEFINISH_SITUATION.WINEFEECT_FINISH)}))},r.update=function(t){},r.randomShowInfo=function(){var t=this;this.refreshBarIndex();var n=Math.floor(h(0,this._barIndex.length)),i=this._barIndex[n];if(i<this.infoBar.length){if(0==i){if(!this.infoBar[0].active){this.infoBar[0].active=!0,this._curBarIndex=i,this.infoBar[0].setPosition(U,P);var e=this.infoBar[0].getComponent(c).contentSize.width+10;u(this.infoBar[i]).delay(1).by(10,{position:new l(-e,0,0)}).call((function(){t.infoBar[i].active=!1,t.randomShowInfo()})).start()}}else this.infoBar[i].active||(this.infoBar[i].active=!0,this._curBarIndex=i,u(this.infoBar[i]).delay(5).call((function(){t.infoBar[i].active=!1,t.randomShowInfo()})).start());this._curInfoIndex=F.INFOBAR_INDEX.RANDOMINFO}},r.refreshBarIndex=function(){var t=this;this._barIndex=[0,1,2],this._barIndex=this._barIndex.filter((function(n){return n!==t._curBarIndex}))},r.showFortuneWinEffect=function(t){var n=this;if(!(t<=0))if(this._curInfoIndex!=F.INFOBAR_INDEX.FORTUNEWINEFFECT)this._fortuneWinNum=t,this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play(),this.winNum.active=!0,this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[0],this.winNum.getComponentInChildren(m).string=t.toString(),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.FORTUNEWINEFFECT;else{var i=this.winNum.getComponentInChildren(m);this._fortuneWinNum+=t;var e=this._fortuneWinNum;this.winNum.active=!1,this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),u(this.winNum).delay(.05).call((function(){i.string=e.toString(),n.winNum.active=!0})).start()}},r.showWinEffect=function(t){this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play(),this.setWinNumShow(t),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),this.winEffect.getChildByName("ib_vfx_b").getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.WINEFFECT},r.showMoreWinEffect=function(t){var n=this;this.node.getComponent(N).spriteFrame=this.infoBarFrame[1],this.winEffect.getComponent(I).play();var i=this.winEffect.getChildByName("lab_changeNum");if(i){this.winNum.active=!1,i.active=!0;var e=i.getComponent(m);e.string="0";var o=0,r=t/40;g.playEffect("numroll_start");var a=u(i).delay(.05).call((function(){o+=r,e.string=Math.round(o).toString()}));this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),u(i).repeat(39,a).call((function(){g.playEffect("numroll_end"),i.active=!1,n.setWinNumShow(t),n.vfxCions.getComponent(I).play()})).start()}this._curInfoIndex=F.INFOBAR_INDEX.MOREWINEFFECT},r.showBigWinEffect=function(t){this.node.getComponent(N).spriteFrame=this.infoBarFrame[2],this.winEffect.getComponent(I).play(),this.setWinNumShow(t),this.winEffect.getChildByName("ib_vfx_d").getComponent(I).play(),g.playEffect("numroll_end"),this.vfxCions.getComponent(I).play(),this._curInfoIndex=F.INFOBAR_INDEX.BIGWINEFFECT},r.hideCurShowInfo=function(){this._curInfoIndex==F.INFOBAR_INDEX.RANDOMINFO?(E.stopAllByTarget(this.infoBar[this._curBarIndex]),this.infoBar[this._curBarIndex].active=!1,this.randomInfoNode.active=!1):(this.winEffect.getComponent(I).stop(),this.winEffect.active=!1)},r.switchInfoByIndex=function(t,n){t!=F.INFOBAR_INDEX.FORTUNEWINEFFECT&&t==this._curInfoIndex||(this.hideCurShowInfo(),t==F.INFOBAR_INDEX.RANDOMINFO?(this.node.getComponent(N).spriteFrame=this.infoBarFrame[0],this.randomInfoNode.active=!0,this.randomShowInfo()):t==F.INFOBAR_INDEX.WINEFFECT?(this.winEffect.active=!0,this.showWinEffect(n)):t==F.INFOBAR_INDEX.MOREWINEFFECT?(this.winEffect.active=!0,this.showMoreWinEffect(n)):t==F.INFOBAR_INDEX.BIGWINEFFECT?(this.winEffect.active=!0,this.showBigWinEffect(n)):t==F.INFOBAR_INDEX.FORTUNEWINEFFECT&&(this.winEffect.active=!0,this.showFortuneWinEffect(n)))},r.setWinNumShow=function(t){this.winNum.active=!0,d._gameFortuneRabbit?this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[1]:this.winNum.getChildByName("spr_text").getComponent(N).spriteFrame=this.winTextFrame[0],this.winNum.getComponentInChildren(m).string=t.toString()},n}(p)).prototype,"infoBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=n(S.prototype,"randomInfoNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(S.prototype,"winEffect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(S.prototype,"infoBarFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=n(S.prototype,"winNum",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(S.prototype,"vfxCions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(S.prototype,"winTextFrame",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=S))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./HttpReqControl.ts","./GlobalData.ts","./GlobalEvent.ts"],(function(i){var e,t,n,o,a,r,s,l,p,c,d,u,h,g,m,f,b,T,w;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){a=i.cclegacy,r=i._decorator,s=i.Node,l=i.ProgressBar,p=i.Label,c=i.screen,d=i.Animation,u=i.randomRange,h=i.director,g=i.UITransform,m=i.view,f=i.Component},function(i){b=i.HttpReqControl},function(i){T=i.globalData},function(i){w=i.GlobalEvent}],execute:function(){var S,v,z,I,y,_,P,D,L,R,x,B,C,H,A;a._RF.push({},"590eaJsNlhI94EsOoCHcxrQ","LoadScene",void 0);var E=r.ccclass,N=r.property,O=["Se nos está a visitar pela primeira vez, a transferência pode demorar um pouco.","Para a melhor experiência de jogo, utilize o Safari ou o Chrome!","Desative páginas inativas e disponibilize mais recursos!","Recomendamos a transferência por Wi-Fi para jogar em HD!","Os jogos carregados anteriormente carregam mais rapidamente a partir da cache do navegador!","Atualize para o dispositivo mais recente para desfrutar da melhor experiência de jogo!"];i("LoadScene",(S=E("LoadScene"),v=N(s),z=N(l),I=N(p),y=N(s),_=N(s),P=N(p),S((R=e((L=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=i.call.apply(i,[this].concat(a))||this,n(e,"bottomBg",R,o(e)),n(e,"loadProgress",x,o(e)),n(e,"labTip",B,o(e)),n(e,"btnStartGame",C,o(e)),n(e,"barLight",H,o(e)),n(e,"animationTip",A,o(e)),e._aniTipIndex=0,e}t(e,i);var a=e.prototype;return a.start=function(){var i=this;this.resizeBottomBg(),c.on("window-resize",this.resizeBottomBg,this),w.inst.on("HTTPRESPOND_INITROOM",this.onHttpInitRoom,this),this.parseUrlData(),b.inst.requestInitRoom(),this.animationTip.node.getComponent(d).on(d.EventType.FINISHED,(function(e,t){"aniTip_disappear"==t.name&&(i.animationTip.string=O[i._aniTipIndex],i.animationTip.node.getComponent(d).play("aniTip_appear"))}))},a.update=function(i){},a.onDestroy=function(){c.off("window-resize"),w.inst.off("HTTPRESPOND_INITROOM"),this.unschedule(this.updateAnimationTip)},a.onHttpInitRoom=function(i){if(0!=i.code)return console.log(i.msg),void(this.labTip.string=i.msg);T.wUserScore=i.data.gold,this._aniTipIndex=Math.floor(u(0,O.length)),this.animationTip.string=O[this._aniTipIndex],this.schedule(this.updateAnimationTip,10),this.labTip.string="A ler informações",h.preloadScene("MainScene",this.onLoadingProgress.bind(this),this.onLoadFinished.bind(this))},a.onLoadingProgress=function(i,e,t){var n=i/e;if(n>this.loadProgress.progress){this.loadProgress.progress=n,this.labTip.string="A carregar recursos ["+(100*n).toFixed(0)+"%]";var o=this.barLight.parent.getComponent(g).contentSize;this.barLight.setPosition(o.width*this.loadProgress.progress,0)}},a.onLoadFinished=function(i){i?console.log(i.message):(this.labTip.string="Completar",h.loadScene("MainScene"))},a.startGame=function(){h.loadScene("MainScene")},a.resizeBottomBg=function(){var i=this.bottomBg.getComponent(g).contentSize,e=m.getDesignResolutionSize(),t=c.windowSize.width/e.width,n=c.windowSize.height/e.height,o=(i.width,i.height,0);if(t>n){var a=i.width*n;a<c.windowSize.width&&(o=c.windowSize.width/a)}else if(t<n){var r=i.height*t;o=c.windowSize.height/r}o>0&&this.bottomBg.setScale(o,o)},a.parseUrlData=function(){var i="",e="",t="1",n=window.location.href.split("?")[1];n&&n.split("&").forEach((function(n){var o=n.split("=");"member_account"==o[0]?i=o[1]:"token"==o[0]?e=o[1]:"mode"==o[0]&&(t=o[1])}));T.setUserAccountData(e,i,Number(t))},a.updateAnimationTip=function(){this._aniTipIndex++,this._aniTipIndex>=O.length&&(this._aniTipIndex=0),this.animationTip.node.getComponent(d).play("aniTip_disappear")},e}(f)).prototype,"bottomBg",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"loadProgress",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(L.prototype,"labTip",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(L.prototype,"btnStartGame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(L.prototype,"barLight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(L.prototype,"animationTip",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=L))||D));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./Constants.ts","./GlobalData.ts","./GlobalEvent.ts","./HttpReqControl.ts","./AudioControl.ts","./AutoBtnNode.ts","./BigWinEffect.ts","./ChoseAutoView.ts","./ChoseBetView.ts","./FortuneRabbitView.ts","./GamePayTable.ts","./GameRuleView.ts","./GameViewControl.ts","./InfoBarMgr.ts","./LoadScene.ts","./MainScene.ts","./RollControl.ts","./RollItem.ts","./RollValueItem.ts","./SbNode.ts","./ShowItemNode.ts","./TipShow.ts","./WinItem.ts","./footScoreShow.ts","./GameHistory.ts","./HistoryCalendar.ts","./HistoryListItem.ts","./HistoryResult.ts","./HistoryResultView.ts","./WinLineBubble.ts","./WinLineDetail.ts","./winEffectController.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SbNode.ts","./footScoreShow.ts","./GlobalData.ts","./Constants.ts","./TipShow.ts","./AudioMgr.ts","./RollControl.ts","./GlobalEvent.ts","./ShowItemNode.ts","./InfoBarMgr.ts","./winEffectController.ts","./AutoBtnNode.ts","./BigWinEffect.ts","./HttpReqControl.ts","./GameViewControl.ts"],(function(t){var e,i,o,n,s,a,r,l,u,h,f,m,c,p,d,g,I,S,N,b,w,_,T,E,R,C,F,A,B,O,y,v,G,M,U,W,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Prefab,l=t.Node,u=t.SpriteFrame,h=t.screen,f=t.sp,m=t.UITransform,c=t.view,p=t.instantiate,d=t.Animation,g=t.tween,I=t.Vec3,S=t.find,N=t.Button,b=t.UIOpacity,w=t.Sprite,_=t.Component},function(t){T=t.SbNode},function(t){E=t.footScoreShow},function(t){R=t.globalData},function(t){C=t.Constants},function(t){F=t.TipShow},function(t){A=t.audioMgr},function(t){B=t.RollControl},function(t){O=t.GlobalEvent},function(t){y=t.ShowItemNode},function(t){v=t.InfoBarMgr},function(t){G=t.winEffectController},function(t){M=t.AutoBtnNode},function(t){U=t.BigWinEffect},function(t){W=t.HttpReqControl},function(t){D=t.GameViewControl}],execute:function(){var H,V,L,z,x,P,X,k,Y,Z,q,K,j,J,Q,$,tt,et,it,ot,nt,st,at,rt,lt,ut,ht,ft,mt,ct,pt,dt,gt,It,St,Nt,bt,wt,_t,Tt,Et;s._RF.push({},"38fbeFpdutF16xg2M7UjDnv","MainScene",void 0);var Rt=a.ccclass,Ct=a.property,Ft=[5e3,1e4,15e3,25e3,5e4,15e4,25e4,4e5,5e5,2e6,4e6];t("MainScene",(H=Rt("MainScene"),V=Ct(T),L=Ct(E),z=Ct(r),x=Ct(l),P=Ct(l),X=Ct(u),k=Ct(l),Y=Ct(l),Z=Ct(l),q=Ct(l),K=Ct(l),j=Ct(r),J=Ct(M),Q=Ct(l),$=Ct(U),tt=Ct(D),et=Ct(r),it=Ct(r),ot=Ct(r),H((at=e((st=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,o(e,"sbNodeControl",at,n(e)),o(e,"footScoreControl",rt,n(e)),o(e,"tipNode",lt,n(e)),o(e,"menuBg",ut,n(e)),o(e,"footBtnNode",ht,n(e)),o(e,"btnSoundFrame",ft,n(e)),o(e,"sprSoundOff",mt,n(e)),o(e,"rollNodes",ct,n(e)),o(e,"showItemNode",pt,n(e)),o(e,"infoBar",dt,n(e)),o(e,"winEffectShow",gt,n(e)),o(e,"autoView",It,n(e)),o(e,"autoBtnControl",St,n(e)),o(e,"topRabbit",Nt,n(e)),o(e,"bigWinEffect",bt,n(e)),o(e,"gameViewControl",wt,n(e)),o(e,"gameRuleView",_t,n(e)),o(e,"payTableView",Tt,n(e)),o(e,"gameHistoryView",Et,n(e)),e._chipIndex=1,e._rollNodeIndex=0,e._gameAutoTimes=0,e._gameFinishSituation=C.GAMEFINISH_SITUATION.NOTWIN_FINISH,e._gameResultData=null,e._gameFortuneTimes=0,e._gameFreeCount=0,e._gameStatus=C.GAME_STATUS.GAME_FREE,e}i(e,t);var s=e.prototype;return s.start=function(){this.resizeBottomBg(),h.on("window-resize",this.resizeBottomBg,this),this.sbNodeControl.setMainScene(this),this.footScoreControl.updateWallet(),R.wChipNum=Ft[this._chipIndex],this.footScoreControl.updateChip(),this.footScoreControl.updateWin(),A.initAudioControl(),this.changeBtnSoundFrame(),this.showSoundOff(),O.inst.on("ROLL_STOP",this.rollStop,this),O.inst.on("DARKUI_SHOWITEM",this.showItem,this),O.inst.on("CHOSEBETVIEW_CHANGECHIP",this.changeChip,this),O.inst.on("AUTOBUTTON_CLICK",this.stopGameAuto,this),O.inst.on("CHOSEAUTOVIEW_CONFIRM",this.setGameAuto,this),O.inst.on("HTTPRESPOND_GAMERESULT",this.onHttpGameResult,this),O.inst.on("MAINSCENE_GAMEFINISH",this.gameFinish,this),O.inst.on("BIGWINEFFECT_FINISH",this.bigWinEffectFinish,this),O.inst.on("FORTUNERABBIT_FAIL",this.fortuneRabbitFail,this),O.inst.on("FORTUNERABBIT_SUCCESS",this.fortuneRabbitSuccess,this),O.inst.on("FORTUNERABBIT_FINISH",this.fortuneRabbitFinish,this),O.inst.on("INFOBAR_FORTUNEWINEFFECT",this.setInfoBarFortuneWin,this),O.inst.on("FORTUNEGAME_ONEROUNDFINISH",this.fortuneGameFinish,this),this.setRabbitAniListener();var t=[C.PRIZESYMBOL_STARTINDEX+50,C.PRIZESYMBOL_STARTINDEX+500,C.PRIZESYMBOL_STARTINDEX+2500,C.PRIZESYMBOL_STARTINDEX+5e3];this.setRollNodesData([7,5,5],t,[7,5,5]),this.schedule(this.updateTopRabbitAni,60)},s.update=function(t){},s.onDestroy=function(){h.off("window-resize",this.resizeBottomBg,this),O.inst.off("ROLL_STOP"),O.inst.off("DARKUI_SHOWITEM"),O.inst.off("CHOSEBETVIEW_CHANGECHIP"),O.inst.off("AUTOBUTTON_CLICK"),O.inst.off("CHOSEAUTOVIEW_CONFIRM"),O.inst.off("HTTPRESPOND_GAMERESULT"),O.inst.off("MAINSCENE_GAMEFINISH"),O.inst.off("BIGWINEFFECT_FINISH"),O.inst.off("FORTUNERABBIT_FAIL"),O.inst.off("FORTUNERABBIT_SUCCESS"),O.inst.off("FORTUNERABBIT_FINISH"),O.inst.off("INFOBAR_FORTUNEWINEFFECT"),O.inst.off("FORTUNEGAME_ONEROUNDFINISH"),this.unschedule(this.updateTopRabbitAni)},s.updateTopRabbitAni=function(){this._gameFreeCount++,this._gameStatus==C.GAME_STATUS.GAME_FREE&&this._gameFreeCount>=3&&(this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"idle3",!1),this._gameFreeCount=0)},s.resizeBottomBg=function(){var t,e=this.node.getChildByName("bottom_bg").getComponent(m).contentSize,i=c.getDesignResolutionSize(),o=h.windowSize.width/i.width,n=h.windowSize.height/i.height,s=(e.width,e.height,0);if(o>n){var a=e.width*n;a<h.windowSize.width&&(s=h.windowSize.width/a)}else if(o<n){var r=e.height*o;s=h.windowSize.height/r}s>0&&(null==(t=this.node.getChildByName("bottom_bg"))||t.setScale(s,s))},s.btnChangeChip=function(t,e){"MinusChip"==e&&(this._chipIndex>0?this._chipIndex--:this.alertTip("Aposta mínima",1)),"AddChip"==e&&(this._chipIndex<Ft.length-1?this._chipIndex++:this.alertTip("Aposta máxima",1)),R.wChipNum=Ft[this._chipIndex],this.footScoreControl.changeChip()},s.changeChip=function(){this.footScoreControl.changeChip()},s.alertTip=function(t,e){if(this.tipNode){var i=this.node.getChildByName("tipShow");if(i&&i.destroy(),i=p(this.tipNode),this.node.addChild(i),i.setSiblingIndex(-1),i.setPosition(0,-287),1==e)i.getComponent(F).showTip(t);else{var o=R.wTurboOn?1:0;i.getComponent(F).showTip(t,o)}}},s.btnTurbo=function(t,e){A.playEffect("menu_icon_press");var i=t.target.getComponent(d),o="";R.wTurboOn?(R.wTurboOn=!1,o="Rodada turbo desativada",i.play("btn_turbo_off")):(R.wTurboOn=!0,o="Rodada turbo ativada",i.play("btn_turbo_on")),this.alertTip(o,2)},s.btnAuto=function(){A.playEffect("menu_icon_press");var t=p(this.autoView),e=this.node.getChildByName("viewBg");t&&e&&!e.getChildByName("choseAutoView")&&e.addChild(t)},s.btnMenu=function(){var t=this;A.playEffect("menu_icon_press");this.footBtnNode.active&&(this.sprSoundOff.active&&(this.sprSoundOff.active=!1),g(this.footBtnNode).by(.2,{position:new I(0,-365,0)}).call((function(){t.sbNodeControl.node.active=!1,t.footBtnNode.active=!1})).start(),g(this.menuBg).call((function(){t.menuBg.active=!0})).by(.2,{position:new I(0,365,0)}).start())},s.onMenu=function(t,e){var i=this;if(A.playEffect("menu_icon_press"),"close"==e){this.footBtnNode.active||(g(this.footBtnNode).call((function(){i.footBtnNode.active=!0})).by(.2,{position:new I(0,365,0)}).call((function(){i.sbNodeControl.node.active=!0})).start(),g(this.menuBg).by(.2,{position:new I(0,-365,0)}).call((function(){i.menuBg.active=!1})).start()),A.saveAudioOption(),this.showSoundOff()}else if("sound"==e)A.setAudioOn(),this.changeBtnSoundFrame();else if("rule"==e){if(this.gameRuleView&&!this.node.getChildByName("GameRuleView")){var o=p(this.gameRuleView);o.name="GameRuleView",this.node.addChild(o)}}else if("payTable"==e){if(this.payTableView&&!this.node.getChildByName("PayTableView")){var n=p(this.payTableView);n.name="PayTableView",this.node.addChild(n)}}else if("history"==e){var s=S("Canvas/viewBg");if(this.gameHistoryView&&!s.getChildByName("GameHistoryView")){var a=p(this.gameHistoryView);a.name="GameHistoryView",s.addChild(a)}}},s.setViewBtnStatus=function(t){var e=this.footBtnNode.getChildByName("btn_add").getComponent(N),i=this.footBtnNode.getChildByName("btn_minus").getComponent(N),o=this.footBtnNode.getChildByName("btn_auto").getComponent(N),n=this.footBtnNode.getChildByName("btn_menu").getComponent(N),s=o.node.getComponent(b);e.interactable=t,i.interactable=t,o.interactable=t,n.interactable=t,s.opacity=t?255:40,this.footScoreControl.setNodeTouchStatus(t)},s.changeBtnSoundFrame=function(){var t=this.menuBg.getChildByName("btn_sound");t&&(A._audioOn?t.getComponent(w).spriteFrame=this.btnSoundFrame[1]:t.getComponent(w).spriteFrame=this.btnSoundFrame[0])},s.showSoundOff=function(){A._audioOn||(this.sprSoundOff.active=!0)},s.startRoll=function(){var t=this;this.rollNodes[0].getComponent(B).setRollStatus(C.ROLL_STATUS.RollNormal),setTimeout((function(){t.rollNodes[1].getComponent(B).setRollStatus(C.ROLL_STATUS.RollNormal)}),200),setTimeout((function(){t.rollNodes[2].getComponent(B).setRollStatus(C.ROLL_STATUS.RollNormal)}),400)},s.readyEndRoll=function(){var t=this,e=R.wTurboOn?200:1200;setTimeout((function(){t.rollNodes[0].getComponent(B).setRollStatus(C.ROLL_STATUS.ReadyStop)}),e)},s.rollStop=function(){var t=this;A.playEffect("iconRow_end"),this._rollNodeIndex+=1,this._rollNodeIndex<this.rollNodes.length?this.rollNodes[this._rollNodeIndex].getComponent(B).setRollStatus(C.ROLL_STATUS.ReadyStop):(this._rollNodeIndex=0,R._gameFortuneRabbit?setTimeout((function(){t.fortuneGameResult()}),300):setTimeout((function(){t.showGameResult()}),300))},s.setRollNodesData=function(t,e,i){this.rollNodes[0].getComponent(B).setShowItemData(t),this.rollNodes[1].getComponent(B).setShowItemData(e),this.rollNodes[2].getComponent(B).setShowItemData(i)},s.startGame=function(){var t=this;return R.wUserScore<R.wChipNum?(this.alertTip("Equilíbrio insuficiente!",1),this._gameAutoTimes>0&&this.stopGameAuto(),!1):(this._gameStatus=C.GAME_STATUS.GAME_START,R._gameFortuneRabbit&&(setTimeout((function(){t.gameViewControl.setViewBg(0)}),500),R._gameFortuneRabbit=!1),R.wUserWin=0,this.footScoreControl.updateWin(),this.showItemNode.getComponent(y).hide(),this.winEffectShow.active&&(this.winEffectShow.active=!1),this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.RANDOMINFO),this.startRoll(),this.setViewBtnStatus(!1),W.inst.requestGameResult(),!0)},s.showItem=function(t,e){R._gameFortuneRabbit||this.showItemNode.getComponent(y).showItem(t,e)},s.showWinEffect=function(t,e,i){this.winEffectShow.active||(this.winEffectShow.active=!0,this.winEffectShow.getComponent(G).showWinEffect(t,e,i,this._gameAutoTimes>0))},s.showGameResult=function(){var t=R.wUserWin;if(t>0&&this._gameResultData){var e=this._gameResultData.winMultiple,i=this._gameResultData.props[0].rewardscharscore.length>=5;e<=12?this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win",!1):e<20&&this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win2",!1),e<5?(this._gameFinishSituation=C.GAMEFINISH_SITUATION.WINEFEECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i),this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.WINEFFECT,t)):e<20?(this._gameFinishSituation=C.GAMEFINISH_SITUATION.MOREWINEFFECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i),this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.MOREWINEFFECT,t)):(this._gameFinishSituation=C.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH,this.showWinEffect(this._gameResultData.props[0].rewardline,e,i))}else this._gameFinishSituation=C.GAMEFINISH_SITUATION.NOTWIN_FINISH,this.gameFinish(C.GAMEFINISH_SITUATION.NOTWIN_FINISH);this.sbNodeControl.setArrowRoll(!1)},s.showFortuneGameResult=function(){if(this._gameResultData){A.playNormalBgm();var t=R.wUserWin,e=this._gameResultData.winMultiple;t>0?e<=2?this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.WINEFFECT,t):e<5?this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.MOREWINEFFECT,t):this.bigWinEffect.showBigWin(t,e):this.gameFinish(C.GAMEFINISH_SITUATION.NOTWIN_FINISH),this._gameFinishSituation=C.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH,this.sbNodeControl.setArrowRoll(!1)}},s.bigWinEffectFinish=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"win3",!1),this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.BIGWINEFFECT,R.wUserWin)},s.gameFinish=function(t){if(t==this._gameFinishSituation)return R.wUserWin>0&&this.footScoreControl.updateWin(),this._gameResultData=null,this.footScoreControl.updateWallet(),this._gameFreeCount=0,this._gameStatus=C.GAME_STATUS.GAME_FREE,void(this._gameAutoTimes>0?this.autoStartGame():(this.setViewBtnStatus(!0),this.sbNodeControl.noticeGameFinish()));this._gameFinishSituation==C.GAMEFINISH_SITUATION.BIGWINEFFECT_FINISH&&t==C.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH?R.wUserWin>0&&this.bigWinEffect.showBigWin(R.wUserWin,this._gameResultData.winMultiple):this._gameFinishSituation==C.GAMEFINISH_SITUATION.GAMEFORTUNE_FINISH&&this.exitGameFortune()},s.fortuneGameResult=function(){var t=this._gameResultData.props[this._gameFortuneTimes];parseFloat(t.totalrollerbet)>0?this.showWinEffect(null,0,!0):this.fortuneGameFinish()},s.fortuneGameFinish=function(){if(this._gameFortuneTimes++,this.gameViewControl.updateFortuneInfo(C.FORTUNEGAME_TIMES-this._gameFortuneTimes),this._gameFortuneTimes<C.FORTUNEGAME_TIMES){var t=this._gameResultData.props[this._gameFortuneTimes];if(t){this.winEffectShow.active&&(this.winEffectShow.active=!1),this.startRoll();var e=[];if(10==t.roller.length&&(e.push([t.roller[0],t.roller[1],t.roller[2]]),e.push([t.roller[3],t.roller[4],t.roller[5],t.roller[6]]),e.push([t.roller[7],t.roller[8],t.roller[9]])),e.length>0){for(var i=0;i<this.rollNodes.length;i++)this.rollNodes[i].getComponent(B).setShowItemData(e[i]);this.readyEndRoll()}}}else this.showFortuneGameResult()},s.autoStartGame=function(){this._gameAutoTimes<=0||(this._gameAutoTimes--,this.autoBtnControl.updateAutoTimes(this._gameAutoTimes-1),this._gameAutoTimes>0?this.startGame():this.stopGameAuto())},s.stopGameAuto=function(){this._gameAutoTimes=0,this.sbNodeControl.node.active=!0,this.autoBtnControl.node.active=!1,this.setViewBtnStatus(!0)},s.setGameAuto=function(t){var e=this;t>0&&this._gameAutoTimes<=0&&(this._gameAutoTimes=t,this.sbNodeControl.node.active=!1,this.autoBtnControl.node.active=!0,this.autoBtnControl.updateAutoTimes(this._gameAutoTimes),setTimeout((function(){e.startGame(),e.autoBtnControl.updateAutoTimes(e._gameAutoTimes-1)}),500))},s.onHttpGameResult=function(t){if(0!=t.code){console.log(t.msg),this.alertTip(t.msg,1);var e=[C.PRIZESYMBOL_STARTINDEX+50,C.PRIZESYMBOL_STARTINDEX+500,C.PRIZESYMBOL_STARTINDEX+2500,C.PRIZESYMBOL_STARTINDEX+5e3];return this.setRollNodesData([7,5,5],e,[7,5,5]),void this.readyEndRoll()}var i=t.data;this._gameResultData=i,R.wUserScore=parseFloat(i.end_gold),R.wUserWin=parseFloat(i.total_win);var o=parseFloat(i.bet_gold);this._gameResultData.winMultiple=Math.round(R.wUserWin/o);var n=[],s=i.props[0].roller;if(10==s.length&&(n.push([s[0],s[1],s[2]]),n.push([s[3],s[4],s[5],s[6]]),n.push([s[7],s[8],s[9]])),n.length>0){for(var a=0;a<this.rollNodes.length;a++)this.rollNodes[a].getComponent(B).setShowItemData(n[a]);this._gameResultData.type>0?this.goFortuneRabbit(this._gameResultData.type):this.readyEndRoll()}},s.setRabbitAniListener=function(){var t=this.topRabbit.getComponent(f.Skeleton);t.setCompleteListener((function(e){switch(e.animation.name){case"win":case"win2":case"win3":t.setAnimation(0,"idle",!0);break;case"tease_start":t.setAnimation(0,"tease_idle",!0);break;case"tease_exit":case"respawn":case"idle3":t.setAnimation(0,"idle",!0)}}))},s.fortuneRabbitFail=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"tease_exit",!1),this.rollNodes[0].getComponent(B).setRollStatus(C.ROLL_STATUS.ReadyStop)},s.goFortuneRabbit=function(t){A.playEffect("fs_start"),this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"tease_start",!1),this.gameViewControl.goFortuneRabbit(t)},s.fortuneRabbitSuccess=function(){A.playEffect("fs_success"),A.playFsBgm(),this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"freespin",!1),this.setBottomBtn(!1),this._gameFortuneTimes=0},s.fortuneRabbitFinish=function(){A.setFsBgmVolume(),this.gameViewControl.removeFortuneRabbitView(),this.rollNodes[0].getComponent(B).setRollStatus(C.ROLL_STATUS.ReadyStop)},s.setInfoBarFortuneWin=function(t){this.infoBar.getComponent(v).switchInfoByIndex(C.INFOBAR_INDEX.FORTUNEWINEFFECT,t)},s.setBottomBtn=function(t){var e=null;t?(this.footBtnNode.active=!0,e=this._gameAutoTimes>0?this.autoBtnControl.node:this.sbNodeControl.node,g(e.getComponent(b)).to(.2,{opacity:255}).call((function(){e.active=!0})).start()):(this.footBtnNode.active=!1,e=this.sbNodeControl.node.active?this.sbNodeControl.node:this.autoBtnControl.node,g(e.getComponent(b)).to(.2,{opacity:0}).call((function(){e.active=!1})).start())},s.exitGameFortune=function(){this.topRabbit.getComponent(f.Skeleton).setAnimation(0,"respawn",!1),this.gameViewControl.node.getComponent(d).play("fortuneRabbit_end"),this.setBottomBtn(!0),this.gameViewControl.setfortuneInfo(!1)},e}(_)).prototype,"sbNodeControl",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(st.prototype,"footScoreControl",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(st.prototype,"tipNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(st.prototype,"menuBg",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(st.prototype,"footBtnNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(st.prototype,"btnSoundFrame",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),mt=e(st.prototype,"sprSoundOff",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(st.prototype,"rollNodes",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=e(st.prototype,"showItemNode",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(st.prototype,"infoBar",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(st.prototype,"winEffectShow",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(st.prototype,"autoView",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(st.prototype,"autoBtnControl",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(st.prototype,"topRabbit",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(st.prototype,"bigWinEffect",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(st.prototype,"gameViewControl",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(st.prototype,"gameRuleView",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(st.prototype,"payTableView",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(st.prototype,"gameHistoryView",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=st))||nt));s._RF.pop()}}}));

System.register("chunks:///_virtual/RollControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./Constants.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var e,o,i,n,l,s,a,r,h,u,d,c,m,_,I,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,l=t.createForOfIteratorHelperLoose},function(t){s=t.cclegacy,a=t._decorator,r=t.Prefab,h=t.randomRange,u=t.instantiate,d=t.Component,c=t.tween,m=t.Vec3},function(t){_=t.RollItem},function(t){I=t.Constants},function(t){f=t.GlobalEvent},function(t){p=t.globalData}],execute:function(){var S,R,C,y,g,v;s._RF.push({},"36a86rzVGFKuahxDbR+XeT/","RollControl",void 0);var T=a.ccclass,L=a.property,w=.02;t("RollControl",(S=T("RollControl"),R=L(r),S((g=e((y=function(t){function e(){for(var e,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l))||this,i(e,"showItemCount",g,n(e)),i(e,"rollItems",v,n(e)),e._totalItemCount=0,e._startPosY=0,e._rollStatus=I.ROLL_STATUS.RollStop,e._checkNodeIndex=0,e._readyEnd=!1,e._showItemData=null,e._rollSpeed=w,e}o(e,t);var s=e.prototype;return s.start=function(){this.initData(),this.initItems()},s.update=function(t){},s.onDestroy=function(){this.unschedule(this.updateRoll)},s.initItems=function(){if(this._showItemData&&this._showItemData.length==this.showItemCount)for(var t=0;t<this._totalItemCount;t++)t<this.showItemCount?this.createRollItem(this._showItemData[t],t):this.randomCreateRollItem(t,!1)},s.initData=function(){this._totalItemCount=this.node.children.length;var t=this.node.getChildByName("item_0");this._startPosY=t.getPosition().y,this._checkNodeIndex=0},s.updateRoll=function(){if(this._rollStatus!=I.ROLL_STATUS.RollStop){for(var t,e=l(this.node.children);!(t=e()).done;){var o=t.value,i=o.getPosition();i.y-=80,o.setPosition(i)}var n=this.node.getChildByName("item_"+this._checkNodeIndex);if(n)n.getPosition().y<=this._startPosY-178&&(this.randomCreateRollItem(this._checkNodeIndex,!0),this._rollStatus==I.ROLL_STATUS.ReadyStop&&(this._checkNodeIndex==this.showItemCount&&this.preloadResult(),this._readyEnd&&this._checkNodeIndex==this._totalItemCount-1&&this.setRollStatus(I.ROLL_STATUS.RollStop)),this._checkNodeIndex+=1,this._checkNodeIndex>=this._totalItemCount&&(this._checkNodeIndex=0))}},s.setRollStatus=function(t){if(!(t<I.ROLL_STATUS.RollNormal||t>I.ROLL_STATUS.RollStop)&&t!=this._rollStatus)if(this._rollStatus=t,this._rollStatus==I.ROLL_STATUS.RollNormal){var e=p.wTurboOn?.01:w;this.schedule(this.updateRoll,e)}else this._rollStatus==I.ROLL_STATUS.RollStop&&(this.unschedule(this.updateRoll),this._readyEnd=!1,f.inst.emit("ROLL_STOP"),this.rollStop())},s.preloadResult=function(){for(var t=0;t<this._showItemData.length;t++)this.createRollItem(this._showItemData[t],this.showItemCount-1-t);this._readyEnd=!0},s.randomCreateRollItem=function(t,e){var o=0;if(p._gameFortuneRabbit){var i=[0,8];o=i[Math.floor(h(0,i.length))]}else o=Math.floor(h(1,this.rollItems.length));var n=u(this.rollItems[o]);if(n){n.getComponent(_).tryRandomCashNum();var l=this.node.getChildByName("item_"+t);l&&(l.destroyAllChildren(),l.addChild(n),e&&l.setPosition(0,this._startPosY+178*(this._totalItemCount-1)))}},s.createRollItem=function(t,e){var o=null;if(t>I.PRIZESYMBOL_STARTINDEX){o=u(this.rollItems[I.ROLLITEM_TYPE.S_CASH]);var i=(t-I.PRIZESYMBOL_STARTINDEX)/10;o.getComponent(_).setCashNum(i)}else t<this.rollItems.length-1&&t>=0&&(o=u(this.rollItems[t]));if(o){var n=this.node.getChildByName("item_"+e);n&&(n.destroyAllChildren(),n.addChild(o)),o.getComponent(_).setShowAniNode()}},s.setShowItemData=function(t){this._showItemData=t},s.rollStop=function(){for(var t=this,e=function(){var e=t.node.getChildByName("item_"+o);e.setPosition(0,t._startPosY+178*o),c(e).by(.1,{position:new m(0,-10,0)}).by(.1,{position:new m(0,20,0)}).by(.1,{position:new m(0,-10,0)}).call((function(){e.getComponentInChildren(_).rollStop()})).start()},o=0;o<this._totalItemCount;o++)e()},s.setFasterSpeed=function(t){this._rollSpeed=t?.01:w},s.getPrizeSymbolNode=function(t){for(var e=0;e<this.showItemCount;e++){var o=this.node.getChildByName("item_"+e);o.getComponentInChildren(_).typeID==I.ROLLITEM_TYPE.S_CASH&&t.push(o.children[0])}},e}(d)).prototype,"showItemCount",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),v=e(y.prototype,"rollItems",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=y))||C));s._RF.pop()}}}));

System.register("chunks:///_virtual/RollItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts","./GlobalEvent.ts","./GlobalData.ts"],(function(t){var n,e,o,i,a,s,r,h,l,u,c,m,p,N,f,g,_;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Node,h=t.Font,l=t.SpriteFrame,u=t.sp,c=t.Animation,m=t.randomRange,p=t.Label,N=t.Component},function(t){f=t.Constants},function(t){g=t.GlobalEvent},function(t){_=t.globalData}],execute:function(){var d,y,I,T,C,b,E,R,S,F,L,D;a._RF.push({},"6e5c9ZEF7JE9bXeTpyB6Dv2","RollItem",void 0);var v=s.ccclass,A=s.property,O=[.5,1,2,5,10,20,50,100,250,500];t("RollItem",(d=v("RollItem"),y=A(r),I=A(r),T=A(h),C=A(l),d((R=n((E=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,o(n,"normalNode",R,i(n)),o(n,"blurNode",S,i(n)),o(n,"typeID",F,i(n)),o(n,"cashNumFont",L,i(n)),o(n,"cashFrame",D,i(n)),n._cashNum=0,n}e(n,t);var a=n.prototype;return a.start=function(){this.node.on(r.EventType.TOUCH_END,this.onTouch,this)},a.update=function(t){},a.rollStop=function(){if(this.normalNode.active)if(this.typeID>=f.ROLLITEM_TYPE.H_CARROT&&this.typeID<=f.ROLLITEM_TYPE.H_INGOT)this.normalNode.getComponent(u.Skeleton).setAnimation(0,"spawn",!1);else if(this.typeID==f.ROLLITEM_TYPE.S_RABBIT){this.normalNode.getComponent(u.Skeleton).setAnimation(0,"idle",!0)}},a.win=function(){if(this.typeID>=f.ROLLITEM_TYPE.H_CARROT&&this.typeID<=f.ROLLITEM_TYPE.H_INGOT)this.normalNode.getComponent(u.Skeleton).setAnimation(0,"win",!0);else if(this.typeID==f.ROLLITEM_TYPE.S_RABBIT){this.normalNode.getComponent(u.Skeleton).setAnimation(0,"win",!0)}else this.typeID==f.ROLLITEM_TYPE.S_CASH&&this.normalNode.getComponent(c).play()},a.setShowAniNode=function(){this.normalNode.active=!0,this.blurNode.active=!1},a.tryRandomCashNum=function(){if(this.typeID==f.ROLLITEM_TYPE.S_CASH){var t=Math.floor(m(0,O.length));this._cashNum=O[t]*_.wChipNum;var n=this.normalNode.getChildByName("cash_note").getComponentsInChildren(p);if(n.length<2)return;var e=this.blurNode.getChildByName("cash_num").getComponent(p);this.cashNumFont.length>0&&(O[t]>=10&&O[t]<50?(n[0].font=this.cashNumFont[1],n[1].font=this.cashNumFont[1],e.font=this.cashNumFont[1]):O[t]>=50&&(n[0].font=this.cashNumFont[2],n[1].font=this.cashNumFont[2],e.font=this.cashNumFont[2])),n[0].string=this._cashNum.toString().replace(".",","),n[1].string=this._cashNum.toString().replace(".",","),e.string=this._cashNum.toString().replace(".",",")}},a.setCashNum=function(t){if(this.typeID==f.ROLLITEM_TYPE.S_CASH){this._cashNum=t*_.wChipNum;var n=this.normalNode.getChildByName("cash_note").getComponentsInChildren(p);if(!(n.length<2)){var e=this.blurNode.getChildByName("cash_num").getComponent(p);this.cashNumFont.length>0&&(t>=10&&t<50?(n[0].font=this.cashNumFont[1],n[1].font=this.cashNumFont[1],e.font=this.cashNumFont[1]):t>=50&&(n[0].font=this.cashNumFont[2],n[1].font=this.cashNumFont[2],e.font=this.cashNumFont[2])),n[0].string=this._cashNum.toString().replace(".",","),n[1].string=this._cashNum.toString().replace(".",","),e.string=this._cashNum.toString().replace(".",",")}}},a.getTopCashNum=function(){return this.typeID!=f.ROLLITEM_TYPE.S_CASH?null:this.normalNode.getChildByName("cash_note").getChildByName("cash_num")},a.onTouch=function(t){this.normalNode.active&&g.inst.emit("DARKUI_SHOWITEM",this.node,this.typeID)},n}(N)).prototype,"normalNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(E.prototype,"blurNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(E.prototype,"typeID",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=n(E.prototype,"cashNumFont",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=n(E.prototype,"cashFrame",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=E))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/RollValueItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(t){var e,n,o,i,r,l,s,u,a,h,c,d,V,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Node,u=t.UITransform,a=t.Vec3,h=t.Vec2,c=t.tween,d=t.Label,V=t.Component},function(t){g=t.GlobalEvent}],execute:function(){var T,f,p,y,v,_,I,E;r._RF.push({},"aba48+hVARPm5nxTPmXpR5X","RollValueItem",void 0);var x=l.ccclass,m=l.property;t("RollValueItem",(T=x("RollValueItem"),f=m(s),p=m(s),T((_=e((v=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"rollValueArr",_,i(e)),o(e,"contentNode",I,i(e)),o(e,"typeID",E,i(e)),e._curValueIndex=-1,e._isTouchMove=!1,e._itemDistanceY=0,e}n(e,t);var r=e.prototype;return r.start=function(){if(this.rollValueArr.length>0){this.node.on(s.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(s.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(s.EventType.MOUSE_WHEEL,this.onMouseWheel,this),this.node.on(s.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(s.EventType.TOUCH_CANCEL,this.onTouchCancle,this);var t=this.contentNode.getComponent(u).getBoundingBox().height,e=this.rollValueArr[0].getComponent(u).getBoundingBox().height;this._itemDistanceY=(t-e)/(this.rollValueArr.length+1)}},r.update=function(t){},r.onTouchStart=function(t){this._isTouchMove=!1,g.inst.emit("CHOSEBETVIEW_SETBUTTON",!1)},r.onTouchEnd=function(t){var e=-1;if(this._isTouchMove)(e=this.getValueIndexByCenterPos())>=0&&(this._curValueIndex=-1);else for(var n=t.getUILocation(),o=this.contentNode.getComponent(u).convertToNodeSpaceAR(new a(n.x,n.y,0)),i=0;i<this.rollValueArr.length;i++)if(this.rollValueArr[i].getComponent(u).getBoundingBox().contains(new h(o.x,o.y))){e=i;break}e>=0?this.setValueIndex(e,!0):this.delaySetButtonStatus()},r.onMouseWheel=function(t){var e=-1;t.getScrollY()>0?this._curValueIndex<this.rollValueArr.length-1&&(e=this._curValueIndex+1):this._curValueIndex>0&&(e=this._curValueIndex-1),g.inst.emit("CHOSEBETVIEW_SETBUTTON",!1),e>=0?this.setValueIndex(e,!0):this.delaySetButtonStatus()},r.onTouchMove=function(t){var e=t.getDeltaY();this._isTouchMove=!0;var n=this.contentNode.getPosition(),o=n.y+e,i=this.rollValueArr[0].getPosition().y;o<i&&o>-i&&this.contentNode.setPosition(n.x,o)},r.onTouchCancle=function(){if(this._isTouchMove){var t=this.getValueIndexByCenterPos();t>=0?(this._curValueIndex=-1,this.setValueIndex(t,!0)):this.delaySetButtonStatus()}},r.setValueIndex=function(t,e){var n=this;if(void 0===e&&(e=!1),t!=this._curValueIndex&&t>=0&&t<this.rollValueArr.length){this._curValueIndex=t;var o=-this.rollValueArr[t].getPosition().y,i=this.contentNode.getPosition(),r=.1;this._itemDistanceY>0&&(r=Math.min(Math.abs(i.y-o)/this._itemDistanceY*.1,.5)),c(this.contentNode).to(r,{position:new a(i.x,o,0)}).delay(r).call((function(){e&&(g.inst.emit("CHOSEBETVIEW_ROLLVALUECHANGE",n),n.delaySetButtonStatus())})).start()}},r.setMaxValue=function(){this.setValueIndex(this.rollValueArr.length-1)},r.getCurValueIndex=function(){return this._curValueIndex},r.getValueIndexByCenterPos=function(){for(var t=-1,e=-this.contentNode.getPosition().y,n=0;n<this.rollValueArr.length;n++){if(Math.abs(this.rollValueArr[n].getPosition().y-e)<=this._itemDistanceY/2){t=n;break}}return t},r.delaySetButtonStatus=function(){setTimeout((function(){g.inst.emit("CHOSEBETVIEW_SETBUTTON",!0)}),500)},r.isMaxValue=function(){return this._curValueIndex==this.rollValueArr.length-1},r.setRollValue=function(t){for(var e=this.contentNode.children,n=0,o=1;o<e.length-1&&(e[o].getComponent(d).string=t[n].toString(),!(++n>=t.length));o++);},e}(V)).prototype,"rollValueArr",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(v.prototype,"contentNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(v.prototype,"typeID",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),y=v))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/SbNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts"],(function(e){var r,t,o,n,i,a,s,l,m,p,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.SpriteFrame,l=e.Node,m=e.Animation,p=e.Sprite,c=e.Component},function(e){u=e.audioMgr}],execute:function(){var h,w,f,d,b,F,g,v,y,N,S,_,A;i._RF.push({},"d4db4gwkkxMt6W99hoefYvF","SbNode",void 0);var E=a.ccclass,C=a.property;e("SbNode",(h=E("SbNode"),w=C(s),f=C(s),d=C(l),b=C(l),F=C(m),h((y=r((v=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,o(r,"arrowNormalFrame",y,n(r)),o(r,"arrowGreyFrame",N,n(r)),o(r,"arrowNode",S,n(r)),o(r,"btnStart",_,n(r)),o(r,"sbHoverAni",A,n(r)),r._mainScene=null,r._arrowRollFinish=!0,r._gameFinish=!0,r}t(r,e);var i=r.prototype;return i.start=function(){var e=this;this.node.getComponent(m).on(m.EventType.PLAY,this.onAnimationEvent,this),this.btnStart.on(l.EventType.MOUSE_ENTER,(function(){e.sbHoverAni.node.active=!0,e.sbHoverAni.play()}),this),this.btnStart.on(l.EventType.MOUSE_LEAVE,(function(){e.sbHoverAni.node.active=!1,e.sbHoverAni.stop()}),this)},i.update=function(e){},i.setMainScene=function(e){this._mainScene=e},i.onStartButton=function(){var e=this.node.getComponent(m);if(this._arrowRollFinish){if(!e.getState("btn_click").isPlaying){if(!this._gameFinish)return void(this.arrowNode.getComponent(p).spriteFrame=this.arrowGreyFrame[0]);this._mainScene.startGame()&&(u.playEffect("click_spin"),e.play(),this._gameFinish=!1)}}else this.arrowNode.getComponent(p).spriteFrame.name!=this.arrowGreyFrame[1].name&&(this.arrowNode.getComponent(p).spriteFrame=this.arrowGreyFrame[1])},i.onAnimationEvent=function(e,r){this.arrowNode.getComponent(m);e==m.EventType.PLAY?this.setArrowRoll(!0):m.EventType.FINISHED},i.setArrowRoll=function(e){var r=this.arrowNode.getComponent(m);e?(r.getState("arrow_roll").speed=4,this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[1],this._arrowRollFinish=!1):(r.getState("arrow_roll").speed=1,this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[0],this._arrowRollFinish=!0)},i.noticeGameFinish=function(){this.arrowNode.getComponent(p).spriteFrame.name!=this.arrowNormalFrame[0].name&&(this.arrowNode.getComponent(p).spriteFrame=this.arrowNormalFrame[0]),this._gameFinish=!0},r}(c)).prototype,"arrowNormalFrame",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=r(v.prototype,"arrowGreyFrame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=r(v.prototype,"arrowNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(v.prototype,"btnStart",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=r(v.prototype,"sbHoverAni",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ShowItemNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants.ts"],(function(t){var e,o,n,i,r,a,s,l,d,h,c,u,m,p,g,I,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Prefab,d=t.UITransform,h=t.instantiate,c=t.Vec3,u=t.Label,m=t.sp,p=t.tween,g=t.UIOpacity,I=t.Component},function(t){N=t.Constants}],execute:function(){var C,f,w,v,y,S,k,_,b;r._RF.push({},"4ecc3/0ZXNJeJkrq82IH5s8","ShowItemNode",void 0);var U=a.ccclass,P=a.property,z=[0,2,3,5,10,50,100,200];t("ShowItemNode",(C=U("ShowItemNode"),f=P(s),w=P(l),v=P(s),C((k=e((S=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"darkUI",k,i(e)),n(e,"showItemNode",_,i(e)),n(e,"contentNode",b,i(e)),e._itemNodewPos=null,e}o(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.showItem=function(t,e){this.darkUI.active||this.showDarkUI(!0),this.contentNode.children.length>0&&this.contentNode.destroyAllChildren();var o=t.getWorldPosition();if(this._itemNodewPos&&this._itemNodewPos.equals(o))this.showDarkUI(!1),this._itemNodewPos=null;else{var n=null;if(n=this.node.getComponent(d).convertToNodeSpaceAR(o).x<=0?h(this.showItemNode[0]):h(this.showItemNode[1])){var i=n.getChildByName("itemNode"),r=i.getPosition().x,a=h(t);a.setPosition(r,0),n.addChild(a),a.pauseSystemEvents(!0);var s=n.getComponent(d).contentSize,l=a.getComponent(d).getBoundingBox();n.getComponent(d).setContentSize(s.width,l.height+50);var p=this.node.getComponent(d).convertToNodeSpaceAR(new c(o.x+-r,o.y,o.z));n.setPosition(p),n.setSiblingIndex(-1),this.contentNode.addChild(n),i.getComponent(d).setContentSize(l.width,l.height);var g=i.getChildByName("lab_num"),I=i.getChildByName("lab_num2"),C=n.getChildByName("lab_cash");e==N.ROLLITEM_TYPE.S_CASH?(g.active=!1,I.active=!1,C.active=!0,n.getComponent(d).setContentSize(s.width+70,l.height+30)):e<z.length&&z[e]>0&&(I.getComponent(u).string=z[e].toString()),e==N.ROLLITEM_TYPE.S_RABBIT&&a.getChildByName("normalNode").getComponent(m.Skeleton).setAnimation(0,"idle",!1),this._itemNodewPos=o}}},r.showDarkUI=function(t){var e=this;if(t){if(this.darkUI.active)return;this.darkUI.active=!0,p(this.darkUI.getComponent(g)).to(.2,{opacity:180}).start()}else p(this.darkUI.getComponent(g)).to(.2,{opacity:0}).call((function(){e.darkUI.active=!1})).start()},r.hide=function(){this.darkUI.active&&(this.contentNode.destroyAllChildren(),this.darkUI.getComponent(g).opacity=0,this.darkUI.active=!1,this._itemNodewPos=null)},e}(I)).prototype,"darkUI",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(S.prototype,"showItemNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=e(S.prototype,"contentNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/TipShow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,c,l,p,u,h,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.SpriteFrame,c=t.Sprite,l=t.Label,p=t.UITransform,u=t.tween,h=t.UIOpacity,d=t.Vec3,f=t.Component}],execute:function(){var b,m,y,g,w,S,v,C,z;r._RF.push({},"7c934aXoP9Fr5CfMYMjAQp8","TipShow",void 0);var F=a.ccclass,O=a.property;t("TipShow",(b=F("TipShow"),m=O(s),y=O(c),g=O(l),b((v=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"turboFrame",v,i(e)),o(e,"turboOn",C,i(e)),o(e,"tipStr",z,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){},r.update=function(t){},r.showTip=function(t,e){var n=this;void 0===e&&(e=-1),this.tipStr.string=t,this.tipStr.updateRenderData();var o=this.tipStr.node.getComponent(p).width,i=this.node.getComponent(p).contentSize;if(e>=0){this.turboOn.spriteFrame=this.turboFrame[e];var r=this.turboOn.node.getComponent(p).width,a=40+r+o;this.node.getComponent(p).setContentSize(a,i.height),this.turboOn.node.setPosition(-a/2+20+r/2,0),this.tipStr.node.setPosition(a/2-20-o/2,0);var s=u(this.node.getComponent(h)).to(.3,{opacity:0}).call((function(){n.node.destroy()}));u(this.node).to(.15,{scale:new d(1.2,1.2,1)}).to(.05,{scale:new d(1,1,1)}).call((function(){n.turboOn.node.active=!0})).delay(1.5).call((function(){s.start()})).start()}else{this.node.getComponent(p).setContentSize(40+o,i.height);var c=u(this.node.getComponent(h)).to(.3,{opacity:0}).call((function(){n.node.destroy()}));u(this.node).to(.15,{scale:new d(1.2,1.2,1)}).to(.05,{scale:new d(1,1,1)}).delay(1.5).call((function(){c.start()})).start()}},e}(f)).prototype,"turboFrame",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=e(S.prototype,"turboOn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"tipStr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=S))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/winEffectController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RollItem.ts","./GlobalEvent.ts","./Constants.ts","./RollControl.ts","./GlobalData.ts","./WinItem.ts","./AudioMgr.ts"],(function(t){var e,n,i,o,l,r,a,s,h,u,m,c,f,g,p,d,_,C,y,N,I,A,b,v,w,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.Prefab,h=t.SpriteAtlas,u=t.Tween,m=t.instantiate,c=t.UITransform,f=t.Vec3,g=t.view,p=t.Animation,d=t.Sprite,_=t.Label,C=t.Component,y=t.tween},function(t){N=t.RollItem},function(t){I=t.GlobalEvent},function(t){A=t.Constants},function(t){b=t.RollControl},function(t){v=t.globalData},function(t){w=t.WinItem},function(t){P=t.audioMgr}],execute:function(){var x,E,S,F,B,W,T,D,R,z,L,H,M,G,O,U,j,V,k,Y,q,J,K;l._RF.push({},"8077alcUDNCHIrLoLu1L8Yj","winEffectController",void 0);var Q=r.ccclass,X=r.property,Z=[{rollIndex:[2,3,2],lineIndex:1},{rollIndex:[2,2,2],lineIndex:2},{rollIndex:[2,2,1],lineIndex:3},{rollIndex:[1,2,2],lineIndex:0},{rollIndex:[1,2,1],lineIndex:1},{rollIndex:[1,1,1],lineIndex:2},{rollIndex:[1,1,0],lineIndex:3},{rollIndex:[0,1,1],lineIndex:0},{rollIndex:[0,1,0],lineIndex:1},{rollIndex:[0,0,0],lineIndex:2}];t("winEffectController",(x=Q("winEffectController"),E=X(a),S=X(s),F=X(a),B=X(a),W=X(a),T=X(a),D=X(a),R=X(s),z=X(h),L=X(a),x((G=e((M=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"rollNodes",G,o(e)),i(e,"lineNodes",O,o(e)),i(e,"itemBgContent",U,o(e)),i(e,"paylineContent",j,o(e)),i(e,"itemContent",V,o(e)),i(e,"paylineNumLeft",k,o(e)),i(e,"paylineNumRight",Y,o(e)),i(e,"winItemBg",q,o(e)),i(e,"paylineNumberAtlas",J,o(e)),i(e,"labWinNum",K,o(e)),e._winData=[],e._winNum=[],e._labPosArr=[],e._itemContentArr=[],e._itemBgContentArr=[],e._tweenArr=[],e._aniPlayIndex=0,e._gameAuto=!1,e._setWinEffectFinish=!1,e}n(e,t);var l=e.prototype;return l.start=function(){},l.update=function(t){},l.onDisable=function(){u.stopAllByTarget(this.node),this.unschedule(this.updateAniPlay),this.resetData()},l.onDestroy=function(){this.unschedule(this.updateAniPlay)},l.showWinEffect=function(t,e,n,i){this._winData.length>0||(this._gameAuto=i,t&&t.length<=Z.length&&(this.createNode(t),this.createAni()),n&&this.createPrizeWinNode(),e>0&&P.playLineWinEffect(e))},l.createPrizeWinNode=function(){for(var t=this,e=[],n=[],i=this.rollNodes.length-1;i>=0;i--){var o=[];this.rollNodes[i].getComponent(b).getPrizeSymbolNode(o);var l=[],r=[];if(o.length>0)for(var a=0;a<o.length;a++){var s=o[a].getWorldPosition(),h=m(this.winItemBg);h.getComponent(w).setBgLight(o[a].getComponent(N).typeID),this.itemBgContent.addChild(h),h.setPosition(this.itemBgContent.getComponent(c).convertToNodeSpaceAR(s)),r.push(h);var u=m(o[a]);u.getComponent(N)._cashNum=o[a].getComponent(N)._cashNum,this.itemContent.addChild(u),u.setPosition(this.itemContent.getComponent(c).convertToNodeSpaceAR(s)),l.push(u)}e.push(l),n.push(r)}for(var f=0;f<e[0].length;f++)e[0][f].setSiblingIndex(-1);P.playEffect("cashItem_win");for(var g=0,d=[],_=function(t){if(e[t].length<=0)return 1;for(var i=function(i){n[t]&&n[t][i]&&y(n[t][i]).delay(.1*g).call((function(){n[t][i].getComponent(p).play(),e[t][i].getComponent(N).win()})).start(),d.push(e[t][i])},o=e[t].length-1;o>=0;o--)i(o);g++},C=e.length-1;C>=0;C--)_(C);setTimeout((function(){t._setWinEffectFinish||(v._gameFortuneRabbit?t.createFortuneCashNumAni(d):I.inst.emit("MAINSCENE_GAMEFINISH",A.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH),t._setWinEffectFinish=!0)}),100*(g-1)+1e3)},l.createFortuneCashNumAni=function(t){if(!(t.length<=0)){for(var e=new f(g.getVisibleSize().width/2,420,0),n=function(n){var i=t[n].getComponent(N).getTopCashNum(),o=i.parent.getComponent(c).convertToNodeSpaceAR(e);y(i).delay(.5+.5*n).to(1,{position:o}).call((function(){P.playEffect("superNumFlyEnd_"+(n+1)),I.inst.emit("INFOBAR_FORTUNEWINEFFECT",t[n].getComponent(N)._cashNum)})).removeSelf().start()},i=0;i<t.length;i++)n(i);setTimeout((function(){I.inst.emit("FORTUNEGAME_ONEROUNDFINISH")}),500*t.length+1500)}},l.createNode=function(t){for(var e=0;e<t.length;e++){var n=t[e].rewardlineid,i=t[e].rewardlinescore;if(i&&n&&n>0&&n<=Z.length){var o=n-1,l=Z[o].lineIndex;if(this.lineNodes[l]){var r=m(this.lineNodes[l]);r.name=o.toString(),this.paylineContent.addChild(r);var a=this.paylineNumLeft.getChildByName("payline_"+(o+1));if(a){var s=a.getWorldPosition();r.setPosition(this.paylineContent.getComponent(c).convertToNodeSpaceAR(s))}r.active=!1,this._winData.push(o),this._winNum.push(parseFloat(i));for(var h=[],u=[],f=0;f<Z[o].rollIndex.length;f++){var g=this.rollNodes[f].getChildByName("item_"+Z[o].rollIndex[f]);if(g){var p=f+"_"+Z[o].rollIndex[f],d=null,_=null;if(this.itemContent.getChildByName(p))d=this.itemContent.getChildByName(p),_=this.itemBgContent.getChildByName(p);else{var C=g.getWorldPosition();(d=m(g)).name=p,this.itemContent.addChild(d),d.setPosition(this.itemContent.getComponent(c).convertToNodeSpaceAR(C)),d.active=!1,(_=m(this.winItemBg)).getComponent(w).setBgLight(g.getComponentInChildren(N).typeID),_.name=p,this.itemBgContent.addChild(_),_.setPosition(this.itemBgContent.getComponent(c).convertToNodeSpaceAR(C)),_.active=!1}if(d&&_&&(h.push(d),u.push(_)),1==f){var y=this.node.getComponent(c).convertToNodeSpaceAR(d.getWorldPosition());this._labPosArr.push(y)}}}h.length>0&&u.length>0&&(this._itemContentArr.push(h),this._itemBgContentArr.push(u))}}}},l.createAni=function(){for(var t=this,e=function(e){var n=y(t.node).call((function(){P.playEffect("win_line"),t.lightPaylineNumber(t._winData[e],!0),t.setItemShow(e,0)})).delay(.1).call((function(){t.setItemShow(e,1)})).delay(.1).call((function(){t.setItemShow(e,2)})).delay(1).call((function(){t.setItemHide(e),t.lightPaylineNumber(t._winData[e],!1)}));t._tweenArr.push(n)},n=0;n<this._winData.length;n++)e(n);this._tweenArr.length>0&&(this._aniPlayIndex=this._tweenArr.length,this.updateAniPlay(),this.schedule(this.updateAniPlay,1.2))},l.setItemShow=function(t,e){var n=this._itemContentArr[t][e],i=this._itemBgContentArr[t][e];n&&i&&(n.active=!0,n.getComponentInChildren(N).win(),i.active=!0,i.getComponent(p).play())},l.setItemHide=function(t){if(!(t>=this._itemContentArr.length||t>=this._itemBgContentArr.length)){for(var e=0;e<this._itemContentArr[t].length;e++)this._itemContentArr[t][e].active=!1;for(var n=0;n<this._itemBgContentArr[t].length;n++)this._itemBgContentArr[t][n].active=!1}},l.lightPaylineNumber=function(t,e){var n=this.paylineContent.getChildByName(t.toString());n&&(n.active=e);var i=this.paylineNumLeft.getChildByName("payline_"+(t+1)),o=this.paylineNumRight.getChildByName("payline_"+(t+1));if(i&&o){var l=i.getComponent(d),r=o.getComponent(d),a=e?"payline_on_left_"+(t+1):"payline_off_left_"+(t+1),s=e?"payline_on_right_"+(t+1):"payline_off_right_"+(t+1),h=this.paylineNumberAtlas.getSpriteFrame(a);h&&(l.spriteFrame=h),(h=this.paylineNumberAtlas.getSpriteFrame(s))&&(r.spriteFrame=h)}},l.updateAniPlay=function(){if(this._tweenArr.length>0)if(this._gameAuto&&(this._aniPlayIndex=this._tweenArr.length),this._aniPlayIndex>=this._tweenArr.length){for(var t=0;t<this._tweenArr.length;t++)this._tweenArr[t].start();this.labWinNum.active=!1,this._aniPlayIndex=0,this._setWinEffectFinish||(setTimeout((function(){I.inst.emit("MAINSCENE_GAMEFINISH",A.GAMEFINISH_SITUATION.WINEFFECTANI_FINISH)}),1200),this._setWinEffectFinish=!0)}else this.labWinNum.active||(this.labWinNum.active=!0),this._winNum[this._aniPlayIndex]&&(this.labWinNum.getComponent(_).string=this._winNum[this._aniPlayIndex].toString()),this._labPosArr[this._aniPlayIndex]&&this.labWinNum.setPosition(this._labPosArr[this._aniPlayIndex]),this._tweenArr[this._aniPlayIndex].start(),this._aniPlayIndex++},l.resetData=function(){this.itemBgContent.destroyAllChildren(),this.itemContent.destroyAllChildren(),this.paylineContent.destroyAllChildren(),this.labWinNum.active=!1;for(var t=0;t<this._winData.length;t++)this.lightPaylineNumber(this._winData[t],!1);this._aniPlayIndex=0,this._tweenArr=[],this._winData=[],this._itemContentArr=[],this._itemBgContentArr=[],this._winNum=[],this._labPosArr=[],this._setWinEffectFinish=!1},e}(C)).prototype,"rollNodes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(M.prototype,"lineNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(M.prototype,"itemBgContent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(M.prototype,"paylineContent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(M.prototype,"itemContent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(M.prototype,"paylineNumLeft",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(M.prototype,"paylineNumRight",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(M.prototype,"winItemBg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(M.prototype,"paylineNumberAtlas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(M.prototype,"labWinNum",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=M))||H));l._RF.pop()}}}));

System.register("chunks:///_virtual/WinItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,c,u,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Node,u=t.SpriteFrame,p=t.Sprite,l=t.Component}],execute:function(){var s,g,h,f,m,b,y;o._RF.push({},"edfd9JXAPpG07G/6AoYBV6t","WinItem",void 0);var L=a.ccclass,d=a.property;t("WinItem",(s=L("WinItem"),g=d(c),h=d(u),s((b=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"bgLight",b,n(e)),r(e,"bgLightFrame",y,n(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){},o.setBgLight=function(t){this.bgLightFrame[t-1]&&(this.bgLight.getComponent(p).spriteFrame=this.bgLightFrame[t-1])},e}(l)).prototype,"bgLight",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(m.prototype,"bgLightFrame",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/WinLineBubble.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r,a,l,o,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Label,u=e.Component}],execute:function(){var c,s,p,b,f;a._RF.push({},"defbadTh7BIVLLHpCj7xLLE","WinLineBubble",void 0);var d=l.ccclass,h=l.property,L=[0,2,3,5,10,50,100,200];e("WinLineBubble",(c=d("WinLineBubble"),s=h(o),c((f=n((b=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=e.call.apply(e,[this].concat(a))||this,t(n,"labWinDetail",f,r(n)),n._lineNodeIndex=0,n}i(n,e);var a=n.prototype;return a.start=function(){},a.update=function(e){},a.setWinDetail=function(e,n,i){var t=e+" x 1 x "+L[n];this.labWinDetail.string=t,this._lineNodeIndex=i},a.isMatch=function(e){return e==this._lineNodeIndex},n}(u)).prototype,"labWinDetail",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/WinLineDetail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalEvent.ts"],(function(e){var i,n,t,r,a,o,l,s,u,p,c,d,y;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteAtlas,s=e.Label,u=e.Sprite,p=e.Node,c=e.UIOpacity,d=e.Component},function(e){y=e.GlobalEvent}],execute:function(){var h,b,f,m,g,v,T,E,L,_,w;a._RF.push({},"82fc3EmuyNHxojEXulQMAVZ","WinLineDetail",void 0);var D=o.ccclass,I=o.property;e("WinLineDetail",(h=D("WinLineDetail"),b=I(l),f=I(s),m=I(u),g=I(s),h((E=i((T=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return i=e.call.apply(e,[this].concat(a))||this,t(i,"paylinesAtlas",E,r(i)),t(i,"labNum",L,r(i)),t(i,"sprLine",_,r(i)),t(i,"labWin",w,r(i)),i._rewardImageID=0,i._nodeIndex=0,i}n(i,e);var a=i.prototype;return a.start=function(){this.node.on(p.EventType.TOUCH_START,this.onTouchEvent,this),this.node.on(p.EventType.TOUCH_END,this.onTouchEvent,this)},a.update=function(e){},a.initWinLine=function(e,i){this.labWin.string=e.rewardlinescore;var n=e.rewardlineid<10?"0"+e.rewardlineid:e.rewardlineid.toString();this.labNum.string=n,this.sprLine.spriteFrame=this.paylinesAtlas.getSpriteFrame("payline_"+n),this._rewardImageID=e.rewardimageid,this._nodeIndex=i},a.onTouchEvent=function(e){e.type==p.EventType.TOUCH_START?this.node.getComponent(c).opacity=180:e.type==p.EventType.TOUCH_END&&(this.node.getComponent(c).opacity=255,y.inst.emit("SHOWWINLINEBUBBLE",this))},i}(d)).prototype,"paylinesAtlas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(T.prototype,"labNum",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=i(T.prototype,"sprLine",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(T.prototype,"labWin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});